import{a as y,b as f,d as b}from"./chunk-HN32MWFF.js";import{a as Q,b as X}from"./chunk-A76K3NLJ.js";import{c as W,d as A,e as B,f as G,q as Z,r as K}from"./chunk-3ICVRYCO.js";import"./chunk-LDCJGWBG.js";import"./chunk-ETD3X4BH.js";import{aa as I,ba as U,ca as R,f as q,i as J,n as H}from"./chunk-NOQYBN3Z.js";import{$ as u,$a as T,Ba as L,Bb as g,Ia as O,La as m,Ua as N,Wa as k,Xa as x,Ya as E,Za as n,_ as d,_a as s,db as j,gb as p,hb as c,ta as l,tb as h,xb as V,yb as D,zb as F}from"./chunk-YO2JWQHV.js";import"./chunk-GAL4ENT6.js";var Y={properties:{comments:{type:"array",items:{type:"object",properties:{name:{type:"string"},message:{type:"string",minLength:10}},required:["name"]}}}},$={type:"VerticalLayout",elements:[{type:"Control",scope:"#/properties/comments",options:{elementLabelProp:"name",detail:{type:"HorizontalLayout",elements:[{type:"Control",label:"",scope:"#/properties/name"},{type:"Control",label:"",scope:"#/properties/message"}]}}}]},C={schema:Y,uiSchema:$};var ee={type:"object",properties:{firstName:{type:"string"},lastName:{type:"string"},comment:{type:"string",description:"Multiline Example"}},required:["comment"]},te={type:"Group",label:"Personal Information",elements:[{type:"Control",scope:"#/properties/firstName",label:"First Name"},{type:"Control",scope:"#/properties/lastName",label:"Last Name"},{type:"Control",scope:"#/properties/comment",label:"Enter comment",options:{multi:!0,minRows:3}}],options:{submitLabel:"Publish comment"}},_={schema:ee,uiSchema:te};var oe={type:"object",properties:{users:{type:"array",items:{type:"object",title:"Users",properties:{firstname:{type:"string"},lastname:{type:"string"},email:{type:"string",format:"email"},age:{type:"number",minimum:0}},required:["firstname"]}}}},ie={type:"ListWithDetail",scope:"#/properties/users",options:{detail:{type:"VerticalLayout",elements:[{type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/firstname",label:"First Name"},{type:"Control",scope:"#/properties/lastname",label:"Last Name"}]},{type:"Control",scope:"#/properties/age",label:"Age"},{type:"Control",scope:"#/properties/email",label:"Email"}]}}},S={schema:oe,uiSchema:ie};var re={properties:{comments:{type:"array",items:{type:"object",properties:{name:{type:"string"}},required:["name"]}}}},ne={type:"VerticalLayout",elements:[{type:"Control",scope:"#/properties/comments"}]},w={schema:re,uiSchema:ne};var se={type:"object",properties:{name:{type:"string"},dead:{type:"boolean"},kindOfDead:{type:"string",enum:["Zombie","Vampire","Ghoul"]},vegetables:{type:"boolean"},kindOfVegetables:{type:"string",enum:["All","Some","Only potatoes"]},withOther:{type:"string",enum:["She/Her","He/Him","They/Them","Other"]},otherStr:{type:"string"}}},ae={type:"VerticalLayout",elements:[{type:"Control",label:"Name",scope:"#/properties/name"},{type:"Group",elements:[{type:"Control",label:"Is Dead?",scope:"#/properties/dead"},{type:"Control",label:"Kind of dead",scope:"#/properties/kindOfDead",rule:{effect:"ENABLE",condition:{scope:"#/properties/dead",schema:{const:!0}}}}]},{type:"Group",elements:[{type:"Control",label:"Eats vegetables?",scope:"#/properties/vegetables"},{type:"Control",label:"Kind of vegetables",scope:"#/properties/kindOfVegetables",rule:{effect:"HIDE",condition:{scope:"#/properties/vegetables",schema:{const:!1}}}}]},{type:"Control",label:"Select pronouns",scope:"#/properties/withOther"},{type:"Control",label:"Type whatever you want",scope:"#/properties/otherStr",rule:{effect:"SHOW",condition:{scope:"#/properties/withOther",schema:{enum:["Other"]}}}}]},M={schema:se,uiSchema:ae};var le={additionalProperties:!1,required:["title","bio","description","description_plain_text","duration"],type:"object",properties:{title:{minLength:3,maxLength:200,type:"string",errorMessage:"This field is required and can be between 3 and 200 characters."},bio:{maxLength:200,type:"string",errorMessage:"This field is required and can be at most 200 characters."},description:{maxLength:2e4,type:"string",errorMessage:"This field is required and can be at most 20000 characters."},description_plain_text:{maxLength:2e3,type:"string",errorMessage:"This field is required and can be at most 2000 characters."},notes:{maxLength:200,type:"string",errorMessage:"This field can be at most 200 characters."},duration:{enum:["Full-day event","Half-day event","Multiple days event","Evening event","Other"],type:"string",errorMessage:"This field is required."}}},me={type:"VerticalLayout",label:"Event details",options:{submitLabel:"Submit"},elements:[{scope:"#/properties/title",label:"What was the title of your event?",type:"Control"},{scope:"#/properties/bio",label:"Biography",options:{wysiwyg:!0,toolbar:[["bold","italic","underline","strike"],["link"],[{list:"ordered"},{list:"bullet"}]],formats:["bold","italic","underline","strike","link","list"]},type:"Control"},{scope:"#/properties/description",label:"What was it about?",options:{wysiwyg:!0,withStringValidation:!0,toolbar:[["bold","italic","underline","strike"],["link"],[{list:"ordered"},{list:"bullet"}]],formats:["bold","italic","underline","strike","link","list"]},type:"Control"},{scope:"#/properties/duration",label:"Duration",options:{format:"radio-button"},type:"Control"},{scope:"#/properties/notes",label:"Additional notes",options:{wysiwyg:!0,toolbar:[["bold","italic","underline","strike"],["link"],[{list:"ordered"},{list:"bullet"}]],formats:["bold","italic","underline","strike","link","list"]},type:"Control"}]},v={schema:le,uiSchema:me};var z=()=>({language:"json",theme:"vs-dark"});function pe(i,P){if(i&1&&T(0,"nz-option",3),i&2){let e=P.$implicit;m("nzLabel",e.label)("nzValue",e.value)}}function ce(i,P){if(i&1){let e=j();n(0,"jsonforms",6),p("dataChange",function(t){d(e);let r=c();return u(r.log("dataChange",t))})("submitted",function(t){d(e);let r=c();return u(r.submitted("submitted",t))}),F("dataChange",function(t){d(e);let r=c();return D(r.formData,t)||(r.formData=t),u(t)}),s()}if(i&2){let e=c();V("data",e.formData),m("config",e.jsonformsConfig)("renderers",e.renderers)("schema",e.schema)("submitLoading",e.loading)("uischema",e.uischema)}}var qe=(()=>{class i{constructor(){this.renderers=K,this.schema=y,this.uischema=f,this.schemaCode=JSON.stringify(y,null,2),this.uischemaCode=JSON.stringify(f,null,2),this.formData=null,this.jsonformsConfig=b,this.jsonformsConfigCode=JSON.stringify(b,null,2),this.options=[{label:"Vertical Layout",value:"default"},{label:"Simple group with submit",value:"group-button"},{label:"Array",value:"array"},{label:"Simple array with one property",value:"item-array"},{label:"List with details",value:"listDetails"},{label:"Rule",value:"rule"},{label:"Wysiwyg Form",value:"wysiwygForm"}]}log(e,o){console.log("======"+e+"======"),console.log(o),console.log("============")}updateSchema(e){this.schema=null,this.schema=JSON.parse(e)}updateUiSchema(e){this.uischema=null,this.uischema=JSON.parse(e)}selectTemplate(e){switch(e){case"group-button":this.schema=_.schema,this.uischema=_.uiSchema;break;case"array":this.schema=C.schema,this.uischema=C.uiSchema;break;case"item-array":this.schema=w.schema,this.uischema=w.uiSchema;break;case"listDetails":this.schema=S.schema,this.uischema=S.uiSchema;break;case"rule":this.schema=M.schema,this.uischema=M.uiSchema;break;case"wysiwygForm":this.schema=v.schema,this.uischema=v.uiSchema;break;default:this.schema=y,this.uischema=f;break}this.updateSchemaCode()}updateSchemaCode(){this.schemaCode=JSON.stringify(this.schema,null,2),this.uischemaCode=JSON.stringify(this.uischema,null,2)}submitted(e,o){this.loading=!0,setTimeout(()=>this.loading=!1,1e3),this.log("submitted",o)}updateConfig(e){this.jsonformsConfig=b,this.jsonformsConfig=JSON.parse(e)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=L({type:i,selectors:[["app-playground-page"]],decls:16,vars:10,consts:[["nz-row","","nzGutter","20"],["nz-col","","nzSpan","12"],["ngModel","demo","nzPlaceHolder","Use demo template",3,"ngModelChange"],[3,"nzLabel","nzValue"],[1,"editor",3,"ngModelChange","ngModel","nzEditorOption"],[3,"data","config","renderers","schema","submitLoading","uischema"],[3,"dataChange","submitted","data","config","renderers","schema","submitLoading","uischema"]],template:function(o,t){o&1&&(n(0,"div",0)(1,"div",1)(2,"nz-select",2),p("ngModelChange",function(a){return t.selectTemplate(a)}),x(3,pe,1,2,"nz-option",3,k),s(),n(5,"h2"),h(6,"Schema editor"),s(),n(7,"nz-code-editor",4),p("ngModelChange",function(a){return t.updateSchema(a)}),s(),n(8,"h2"),h(9,"UI Schema editor"),s(),n(10,"nz-code-editor",4),p("ngModelChange",function(a){return t.updateUiSchema(a)}),s(),n(11,"h2"),h(12,"Config editor"),s(),n(13,"nz-code-editor",4),p("ngModelChange",function(a){return t.updateConfig(a)}),s()(),n(14,"div",1),O(15,ce,1,6,"jsonforms",5),s()()),o&2&&(l(3),E(t.options),l(4),m("ngModel",t.schemaCode)("nzEditorOption",g(7,z)),l(3),m("ngModel",t.uischemaCode)("nzEditorOption",g(8,z)),l(3),m("ngModel",t.jsonformsConfigCode)("nzEditorOption",g(9,z)),l(2),N(t.schema&&t.uischema?15:-1))},dependencies:[G,B,A,R,I,U,H,q,J,X,Q,Z,W],styles:["[_nghost-%COMP%]{display:block;padding:24px}nz-select[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}h2[_ngcontent-%COMP%]{margin:0}.editor[_ngcontent-%COMP%]{display:block;width:100%;height:350px;border:2px solid #ccc;margin:1em 0}"]})}}return i})();export{qe as PlaygroundPageComponent};
