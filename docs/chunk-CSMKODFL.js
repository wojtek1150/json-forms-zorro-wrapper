import{c as $n,d as Hn,h as U,i as L,j as k,k as ve,l as Se,m as Wn,n as Kn,o as qn,t as Jn,u as ei}from"./chunk-FD4VKAHY.js";import{p as w}from"./chunk-57P7GA7K.js";import{J as Un,K as jn,S as fe,T as Ce,V as ye,W as xe,Y as Yn,_ as at,b as H,ea as Xn,f as R,fa as Zn,ga as Qn,i as O,n as M}from"./chunk-OIMDTRSX.js";import{$ as De,$a as it,$b as K,Ab as En,Ac as On,Ad as Nn,Cd as Rt,Da as G,Fc as st,Fd as An,G as xt,Gc as $e,H as un,Ha as tt,Hc as zt,I as Ne,Ib as Ve,Ic as ue,J as _n,Jb as Dn,Jc as Mn,Kb as ge,Lb as wt,Ld as Fn,Ma as S,Mb as Pt,N as Ae,Nb as ee,O as Xe,Oa as E,Ob as te,P as Ie,Pa as ze,Qa as Et,Qb as W,R as b,Ra as oe,Sa as re,Sb as Tn,T as C,Ta as m,Tb as bn,U as y,Ua as l,Ub as wn,Va as c,Vb as It,Wa as $,X as Ze,Xa as N,Xd as Bn,Y as Qe,Ya as A,Z as hn,_ as g,_a as nt,_b as Oe,a as Pe,aa as vt,ab as Te,ac as Pn,b as yt,bb as D,c as B,d as _e,db as u,ea as Je,fb as a,fd as Ln,g as ln,ga as pe,gb as Dt,hb as Tt,hc as rt,he as Vn,i as ke,ib as ot,ic as In,ie as Gn,j as de,jc as zn,kb as be,lb as we,lc as Rn,n as cn,nb as yn,oa as d,ob as xn,pb as Re,ra as gn,rb as X,re as Ot,se as He,t as dn,ta as St,tb as me,te as ae,u as qe,ua as fn,ub as _,ue as le,v as pn,va as se,vb as he,wa as Cn,wb as Be,xa as f,xb as bt,ya as et,yb as vn,yd as kn,z as mn,za as Fe,zb as Sn,zc as Ge}from"./chunk-EEXEEPFN.js";import{a as z,b as F}from"./chunk-GAL4ENT6.js";var V=(function(i){return i.TEXT="TEXT",i.TEXTAREA="TEXTAREA",i.NUMBER="NUMBER",i.BOOLEAN="CHECKBOX",i.TOGGLE="TOGGLE",i.DATE_PICKER="DATE_PICKER",i.DATE_RANGE="DATE_RANGE",i.SELECT="SELECT",i.RADIO="RADIO",i.RADIO_BUTTON="RADIO_BUTTON",i.RANGE="RANGE",i.WYSIWYG="WYSIWYG",i.CHECKBOX_GROUP="CHECKBOX_GROUP",i.MULTISELECT="MULTISELECT",i.MENTION="MENTION",i.IMAGE="IMAGE",i.GOOGLE_PLACES="GOOGLE_PLACES",i.COUNTRY_ISO="COUNTRY_ISO",i})(V||{}),ne=(function(i){return i.VERTICAL_LAYOUT="VERTICAL_LAYOUT",i.HORIZONTAL_LAYOUT="HORIZONTAL_LAYOUT",i.GROUP="GROUP",i.CARD_GROUP="CARD_GROUP",i.CATEGORIZATION="CATEGORIZATION",i.STEPPER="STEPPER",i.ARRAY_LAYOUT="ARRAY_LAYOUT",i})(ne||{});function j(i,o=0){return o>0?`${i}${o}`:i}var po={icon:"font-size",type:V.TEXT,name:j("textField"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/textField",label:"Text Field"},formSchema:{type:"string"}},mo={icon:"file-text",type:V.TEXTAREA,name:j("textarea"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/textarea",label:"Textarea",options:{multi:!0,minRows:2,maxRows:4}},formSchema:{type:"string"}},uo={icon:"number",type:V.NUMBER,name:j("number"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/number",label:"Number"},formSchema:{type:"number"}},_o={icon:"check-square",type:V.BOOLEAN,name:j("boolean"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/boolean",label:"Checkbox"},formSchema:{type:"boolean"}},ho={icon:"swap",type:V.TOGGLE,name:j("toggle"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/toggle",label:"Toggle",options:{toggle:!0}},formSchema:{type:"boolean"}},go={icon:"calendar",type:V.DATE_PICKER,name:j("date"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/date",label:"Date",options:{format:"date",dateFormat:"yyyy-MM-dd",showTime:!1}},formSchema:{type:"string",format:"date"}},fo={icon:"calendar",type:V.DATE_RANGE,name:j("dateRange"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/dateRange",label:"Date Range",options:{format:"dateRange",dateFormat:"yyyy-MM-dd",saveFormat:"yyyy-MM-dd'T'HH:mm:ss"}},formSchema:{type:"array",items:{type:"string",format:"date"}}},Co={icon:"down-circle",type:V.SELECT,name:j("select"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/select",label:"Select"},formSchema:{type:"string",enum:["Option 1","Option 2","Option 3"]}},yo={icon:"radar-chart",type:V.RADIO,name:j("radio"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/radio",label:"Radio",options:{format:"radio"}},formSchema:{type:"string",enum:["Option 1","Option 2","Option 3"]}},xo={icon:"dot-chart",type:V.RADIO_BUTTON,name:j("radioButton"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/radioButton",label:"Radio Button",options:{format:"radio-button"}},formSchema:{type:"string",enum:["Option 1","Option 2","Option 3"]}},vo={icon:"sliders",type:V.RANGE,name:j("range"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/range",label:"Range"},formSchema:{type:"number",minimum:0,maximum:100}},So={icon:"edit",type:V.WYSIWYG,name:j("wysiwyg"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/wysiwyg",label:"Rich Text Editor",options:{wysiwyg:!0}},formSchema:{type:"string"}},Eo={icon:"check-square",type:V.CHECKBOX_GROUP,name:j("checkboxGroup"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/checkboxGroup",label:"Checkbox Group"},formSchema:{type:"array",items:{type:"string",enum:["Option 1","Option 2","Option 3"]}}},Do={icon:"unordered-list",type:V.MULTISELECT,name:j("multiselect"),temp:!1,editor:!1,uiSchema:{type:"Control",scope:"#/properties/multiselect",label:"Multiselect",options:{format:"multiselect"}},formSchema:{type:"array",items:{type:"string",enum:["Option 1","Option 2","Option 3"]},uniqueItems:!0}},To={icon:"at",type:V.MENTION,name:j("mention"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/mention",label:"Mention",options:{format:"mention"}},formSchema:{type:"string"}},bo={icon:"picture",type:V.IMAGE,name:j("image"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/image",label:"Image Upload"},formSchema:{type:"string",format:"uri"}},wo={icon:"environment",type:V.GOOGLE_PLACES,name:j("googlePlaces"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/googlePlaces",label:"Google Places"},formSchema:{type:"object",properties:{address:{type:"string"},placeId:{type:"string"}}}},Po={icon:"global",type:V.COUNTRY_ISO,name:j("country"),temp:!1,editor:!1,disabled:!0,uiSchema:{type:"Control",scope:"#/properties/country",label:"Country"},formSchema:{type:"string"}},Io={icon:"align-left",label:"Vertical Layout",type:ne.VERTICAL_LAYOUT,temp:!1,editor:!1,uiSchema:{type:"VerticalLayout",elements:[]},elements:[]},zo={icon:"menu",label:"Horizontal Layout",type:ne.HORIZONTAL_LAYOUT,temp:!1,editor:!1,uiSchema:{type:"HorizontalLayout",elements:[]},elements:[]},Ro={icon:"appstore",label:"Group",type:ne.GROUP,temp:!1,editor:!1,uiSchema:{type:"Group",label:"Group",elements:[]},elements:[]},Oo={icon:"idcard",label:"Card Group",type:ne.CARD_GROUP,temp:!1,editor:!1,uiSchema:{type:"CardGroup",label:"Card Group",elements:[]},elements:[]},Mo={icon:"appstore-add",label:"Categorization",type:ne.CATEGORIZATION,temp:!1,editor:!1,uiSchema:{type:"Categorization",elements:[{type:"Category",label:"Category 1",elements:[]}],options:{}},elements:[]},Lo={icon:"step-forward",label:"Stepper",type:ne.STEPPER,temp:!1,editor:!1,uiSchema:{type:"Categorization",elements:[{type:"Category",label:"Step 1",elements:[]}],options:{variant:"stepper",showNavButtons:!0,nextLabel:"Next",previousLabel:"Previous"}},elements:[]},ko={icon:"unordered-list",label:"Array Layout",type:ne.ARRAY_LAYOUT,temp:!1,editor:!1,uiSchema:{type:"VerticalLayout",elements:[]},elements:[]},ti=[po,mo,uo,_o,ho,go,fo,Co,yo,xo,vo,So,Eo,Do,To,bo,wo,Po],ni=[Io,zo,Ro,Oo,Mo,Lo,ko];function kt(i){let o=i.cloneNode(!0),e=o.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();o.removeAttribute("id");for(let n=0;n<e.length;n++)e[n].removeAttribute("id");return t==="canvas"?ri(i,o):(t==="input"||t==="select"||t==="textarea")&&oi(i,o),ii("canvas",i,o,ri),ii("input, textarea, select",i,o,oi),o}function ii(i,o,e,t){let n=o.querySelectorAll(i);if(n.length){let r=e.querySelectorAll(i);for(let s=0;s<n.length;s++)t(n[s],r[s])}}var No=0;function oi(i,o){o.type!=="file"&&(o.value=i.value),o.type==="radio"&&o.name&&(o.name=`mat-clone-${o.name}-${No++}`)}function ri(i,o){let e=o.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(t){}}function Ht(i){let o=i.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function Nt(i,o,e){let{top:t,bottom:n,left:r,right:s}=i;return e>=t&&e<=n&&o>=r&&o<=s}function Ao(i,o){let e=o.left<i.left,t=o.left+o.width>i.right,n=o.top<i.top,r=o.top+o.height>i.bottom;return e||t||n||r}function Ye(i,o,e){i.top+=o,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function si(i,o,e,t){let{top:n,right:r,bottom:s,left:p,width:h,height:x}=i,v=h*o,T=x*o;return t>n-T&&t<s+T&&e>p-v&&e<r+v}var lt=class{_document;positions=new Map;constructor(o){this._document=o}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ht(e)})})}handleScroll(o){let e=$e(o),t=this.positions.get(e);if(!t)return null;let n=t.scrollPosition,r,s;if(e===this._document){let x=this.getViewportScrollPosition();r=x.top,s=x.left}else r=e.scrollTop,s=e.scrollLeft;let p=n.top-r,h=n.left-s;return this.positions.forEach((x,v)=>{x.clientRect&&e!==v&&e.contains(v)&&Ye(x.clientRect,p,h)}),n.top=r,n.left=s,{top:p,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function fi(i,o){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===o.ELEMENT_NODE)return e[0];let t=o.createElement("div");return e.forEach(n=>t.appendChild(n)),t}function Ut(i,o,e){for(let t in o)if(o.hasOwnProperty(t)){let n=o[t];n?i.setProperty(t,n,e?.has(t)?"important":""):i.removeProperty(t)}return i}function Me(i,o){let e=o?"":"none";Ut(i.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ai(i,o,e){Ut(i.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},e)}function ct(i,o){return o&&o!="none"?i+" "+o:i}function li(i,o){i.style.width=`${o.width}px`,i.style.height=`${o.height}px`,i.style.transform=We(o.left,o.top)}function We(i,o){return`translate3d(${Math.round(i)}px, ${Math.round(o)}px, 0)`}var Ue={capture:!0},Mt={passive:!1,capture:!0},Fo=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,n){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return i})(),pt=(()=>{class i{_ngZone=b(De);_document=b(Qe);_styleLoader=b(kn);_renderer=b(St).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new B;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=vt([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new B;pointerUp=new B;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Mt)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Fo),this._activeDragInstances.update(n=>[...n,e]),this._activeDragInstances().length===1)){let n=t.type.startsWith("touch"),r=p=>this.pointerUp.next(p),s=[["scroll",p=>this._scroll.next(p),Ue],["selectstart",this._preventDefaultWhileDragging,Mt]];n?s.push(["touchend",r,Ue],["touchcancel",r,Ue]):s.push(["mouseup",r,Ue]),n||s.push(["mousemove",p=>this.pointerMove.next(p),Mt]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([p,h,x])=>this._renderer.listen(this._document,p,h,x))})}}stopDragging(e){this._activeDragInstances.update(t=>{let n=t.indexOf(e);return n>-1?(t.splice(n,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this._scroll];return e&&e!==this._document&&t.push(new yt(n=>this._ngZone.runOutsideAngular(()=>{let r=this._renderer.listen(e,"scroll",s=>{this._activeDragInstances().length&&n.next(s)},Ue);return()=>{r()}}))),qe(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ae({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ci(i){let o=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*o}function Bo(i){let o=getComputedStyle(i),e=Lt(o,"transition-property"),t=e.find(p=>p==="transform"||p==="all");if(!t)return 0;let n=e.indexOf(t),r=Lt(o,"transition-duration"),s=Lt(o,"transition-delay");return ci(r[n])+ci(s[n])}function Lt(i,o){return i.getPropertyValue(o).split(",").map(t=>t.trim())}var Vo=new Set(["position"]),At=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(o,e,t,n,r,s,p,h,x,v){this._document=o,this._rootElement=e,this._direction=t,this._initialDomRect=n,this._previewTemplate=r,this._previewClass=s,this._pickupPositionOnPage=p,this._initialTransform=h,this._zIndex=x,this._renderer=v}attach(o){this._preview=this._createPreview(),o.appendChild(this._preview),di(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(o){this._preview.style.transform=o}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(o){this._preview.classList.add(o)}getTransitionDuration(){return Bo(this._preview)}addEventListener(o,e){return this._renderer.listen(this._preview,o,e)}_createPreview(){let o=this._previewTemplate,e=this._previewClass,t=o?o.template:null,n;if(t&&o){let r=o.matchSize?this._initialDomRect:null,s=o.viewContainer.createEmbeddedView(t,o.context);s.detectChanges(),n=fi(s,this._document),this._previewEmbeddedView=s,o.matchSize?li(n,r):n.style.transform=We(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=kt(this._rootElement),li(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return Ut(n.style,{"pointer-events":"none",margin:di(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Vo),Me(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>n.classList.add(r)):n.classList.add(e)),n}};function di(i){return"showPopover"in i}var Go={passive:!0},pi={passive:!1},$o={passive:!1,capture:!0},Ho=800,mi="cdk-drag-placeholder",ui=new Set(["position"]);function Ci(i,o,e={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){let t=i.get(fn,null,{optional:!0})||i.get(St).createRenderer(null,null);return new Ft(o,e,i.get(Qe),i.get(De),i.get(Rt),i.get(pt),t)}var Ft=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=vt(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new B;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=Pe.EMPTY;_pointerUpSubscription=Pe.EMPTY;_scrollSubscription=Pe.EMPTY;_resizeSubscription=Pe.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(o){o!==this._disabled&&(this._disabled=o,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Me(e,o)))}_disabled=!1;beforeStarted=new B;started=new B;released=new B;ended=new B;entered=new B;exited=new B;dropped=new B;moved=this._moveEvents;data;constrainPosition;constructor(o,e,t,n,r,s,p){this._config=e,this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s,this._renderer=p,this.withRootElement(o).withParent(e.parentDragRef||null),this._parentPositions=new lt(t),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(t=>ue(t)),this._handles.forEach(t=>Me(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){let e=ue(o);if(e!==this._rootElement){this._removeRootElementListeners();let t=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"mousedown",this._pointerDown,pi),t.listen(e,"touchstart",this._pointerDown,Go),t.listen(e,"dragstart",this._nativeDragStart,pi)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?ue(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&Ao(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let o=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),t=0,n=0;e.left<o.left?t=o.left-e.left:e.right>o.right&&(t=o.right-e.right),e.top<o.top?n=o.top-e.top:e.bottom>o.bottom&&(n=o.bottom-e.bottom);let r=this._activeTransform.x,s=this._activeTransform.y,p=r+t,h=s+n;this._rootElement.style.transform=We(p,h),this._activeTransform={x:p,y:h},this._passiveTransform={x:p,y:h}}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),Me(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),Me(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){let o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){let o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(o);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)};_pointerMove=o=>{let e=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging()){let n=Math.abs(e.x-this._pickupPositionOnPage.x),r=Math.abs(e.y-this._pickupPositionOnPage.y);if(n+r>=this._config.dragStartThreshold){let p=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),h=this._dropContainer;if(!p){this._endDragSequence(o);return}(!h||!h.isDragging()&&!h.isReceiving())&&(o.cancelable&&o.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(o)))}return}o.cancelable&&o.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=t.x-n.x+this._passiveTransform.x,r.y=t.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:o,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=o=>{this._endDragSequence(o)};_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){je(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",Uo,$o)}),t){let n=this._rootElement,r=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),p=this._marker=this._marker||this._document.createComment("");r.insertBefore(p,n),this._initialTransform=n.style.transform||"",this._preview=new At(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,e)),ai(n,!1,ui),this._document.body.appendChild(r.replaceChild(s,n)),this.started.next({source:this,event:o}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),n=je(e),r=!n&&e.button!==0,s=this._rootElement,p=$e(e),h=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+Ho>Date.now(),x=n?jn(e):Un(e);if(p&&p.draggable&&e.type==="mousedown"&&e.preventDefault(),t||r||h||x)return;if(this._handles.length){let P=s.style;this._rootElementTapHighlight=P.webkitTapHighlightColor||"",P.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(P=>this._updateOnScroll(P)),this._boundaryElement&&(this._boundaryRect=Ht(this._boundaryElement));let v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,o,e);let T=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:T.x,y:T.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(o){ai(this._rootElement,!0,ui),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),n=this._getPointerPositionOnPage(o),r=this._getDragDistance(n),s=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:r,dropPoint:n,event:o}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:n,event:o}),e.drop(this,t,this._initialIndex,this._initialContainer,s,r,n,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:e},{x:t,y:n}){let r=this._initialContainer._getSiblingContainerFromPosition(this,o,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),p=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(r,this._dropContainer,p),this._dropContainer=r,this._dropContainer.enter(this,o,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,n),this._dropContainer._sortItem(this,o,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,e):this._applyPreviewTransform(o-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let o=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let n=p=>{(!p||this._preview&&$e(p)===this._preview.element&&p.propertyName==="transform")&&(s(),t(),clearTimeout(r))},r=setTimeout(n,e*1.5),s=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let o=this._placeholderTemplate,e=o?o.template:null,t;return e?(this._placeholderRef=o.viewContainer.createEmbeddedView(e,o.context),this._placeholderRef.detectChanges(),t=fi(this._placeholderRef,this._document)):t=kt(this._rootElement),t.style.pointerEvents="none",t.classList.add(mi),t}_getPointerPositionInElement(o,e,t){let n=e===this._rootElement?null:e,r=n?n.getBoundingClientRect():o,s=je(t)?t.targetTouches[0]:t,p=this._getViewportScrollPosition(),h=s.pageX-r.left-p.left,x=s.pageY-r.top-p.top;return{x:r.left-o.left+h,y:r.top-o.top+x}}_getPointerPositionOnPage(o){let e=this._getViewportScrollPosition(),t=je(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,n=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let p=this._ownerSVGElement.createSVGPoint();return p.x=n,p.y=r,p.matrixTransform(s.inverse())}}return{x:n,y:r}}_getConstrainedPointerPosition(o){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:n}=this.constrainPosition?this.constrainPosition(o,this,this._initialDomRect,this._pickupPositionInElement):o;if(this.lockAxis==="x"||e==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,p=this._boundaryRect,{width:h,height:x}=this._getPreviewRect(),v=p.top+s,T=p.bottom-(x-s),P=p.left+r,ft=p.right-(h-r);t=_i(t,P,ft),n=_i(n,v,T)}return{x:t,y:n}}_updatePointerDirectionDelta(o){let{x:e,y:t}=o,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),p=Math.abs(t-r.y);return s>this._config.pointerDirectionChangeThreshold&&(n.x=e>r.x?1:-1,r.x=e),p>this._config.pointerDirectionChangeThreshold&&(n.y=t>r.y?1:-1,r.y=t),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,Me(this._rootElement,o))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(o=>o()),this._rootElementCleanups=void 0}_applyRootElementTransform(o,e){let t=1/this.scale,n=We(o*t,e*t),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=ct(n,this._initialTransform)}_applyPreviewTransform(o,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,n=We(o,e);this._preview.setTransform(ct(n,t))}_getDragDistance(o){let e=this._pickupPositionOnPage;return e?{x:o.x-e.x,y:o.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:e}=this._passiveTransform;if(o===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||t.width===0&&t.height===0)return;let r=n.left-t.left,s=t.right-n.right,p=n.top-t.top,h=t.bottom-n.bottom;n.width>t.width?(r>0&&(o+=r),s>0&&(o-=s)):o=0,n.height>t.height?(p>0&&(e+=p),h>0&&(e-=h)):e=0,(o!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:o})}_getDragStartDelay(o){let e=this.dragStartDelay;return typeof e=="number"?e:je(o)?e.touch:e?e.mouse:0}_updateOnScroll(o){let e=this._parentPositions.handleScroll(o);if(e){let t=$e(o);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Ye(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=st(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,e){let t=this._previewContainer||"global";if(t==="parent")return o;if(t==="global"){let n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return ue(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=o=>{if(this._handles.length){let e=this._getTargetHandle(o);e&&!this._disabledHandles.has(e)&&!this.disabled&&o.preventDefault()}else this.disabled||o.preventDefault()};_getTargetHandle(o){return this._handles.find(e=>o.target&&(o.target===e||e.contains(o.target)))}_conditionallyInsertAnchor(o,e,t){if(o===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let n=this._anchor??=kt(this._placeholder);n.classList.remove(mi),n.classList.add("cdk-drag-anchor"),n.style.transform="",t?t.before(n):ue(e.element).appendChild(n)}}};function _i(i,o,e){return Math.max(o,Math.min(e,i))}function je(i){return i.type[0]==="t"}function Uo(i){i.preventDefault()}function mt(i,o,e){let t=hi(o,i.length-1),n=hi(e,i.length-1);if(t===n)return;let r=i[t],s=n<t?-1:1;for(let p=t;p!==n;p+=s)i[p]=i[p+s];i[n]=r}function hi(i,o){return Math.max(0,Math.min(o,i))}var dt=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(o){this._dragDropRegistry=o}_previousSwap={drag:null,delta:0,overlaps:!1};start(o){this.withItems(o)}sort(o,e,t,n){let r=this._itemPositions,s=this._getItemIndexFromPointerPosition(o,e,t,n);if(s===-1&&r.length>0)return null;let p=this.orientation==="horizontal",h=r.findIndex(J=>J.drag===o),x=r[s],v=r[h].clientRect,T=x.clientRect,P=h>s?1:-1,ft=this._getItemOffsetPx(v,T,P),ao=this._getSiblingOffsetPx(h,r,P),lo=r.slice();return mt(r,h,s),r.forEach((J,co)=>{if(lo[co]===J)return;let rn=J.drag===o,Ct=rn?ft:ao,sn=rn?o.getPlaceholderElement():J.drag.getRootElement();J.offset+=Ct;let an=Math.round(J.offset*(1/J.drag.scale));p?(sn.style.transform=ct(`translate3d(${an}px, 0, 0)`,J.initialTransform),Ye(J.clientRect,0,Ct)):(sn.style.transform=ct(`translate3d(0, ${an}px, 0)`,J.initialTransform),Ye(J.clientRect,Ct,0))}),this._previousSwap.overlaps=Nt(T,e,t),this._previousSwap.drag=x.drag,this._previousSwap.delta=p?n.x:n.y,{previousIndex:h,currentIndex:s}}enter(o,e,t,n){let r=n==null||n<0?this._getItemIndexFromPointerPosition(o,e,t):n,s=this._activeDraggables,p=s.indexOf(o),h=o.getPlaceholderElement(),x=s[r];if(x===o&&(x=s[r+1]),!x&&(r==null||r===-1||r<s.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(x=s[0]),p>-1&&s.splice(p,1),x&&!this._dragDropRegistry.isDragging(x)){let v=x.getRootElement();v.parentElement.insertBefore(h,v),s.splice(r,0,o)}else this._element.appendChild(h),s.push(o);h.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables?.forEach(o=>{let e=o.getRootElement();if(e){let t=this._itemPositions.find(n=>n.drag===o)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return this._getVisualItemPositions().findIndex(e=>e.drag===o)}getItemAtIndex(o){return this._getVisualItemPositions()[o]?.drag||null}updateOnScroll(o,e){this._itemPositions.forEach(({clientRect:t})=>{Ye(t,o,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(o){this._element=o}_cacheItemPositions(){let o=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Ht(t)}}).sort((e,t)=>o?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(o,e,t){let n=this.orientation==="horizontal",r=n?e.left-o.left:e.top-o.top;return t===-1&&(r+=n?e.width-o.width:e.height-o.height),r}_getSiblingOffsetPx(o,e,t){let n=this.orientation==="horizontal",r=e[o].clientRect,s=e[o+t*-1],p=r[n?"width":"height"]*t;if(s){let h=n?"left":"top",x=n?"right":"bottom";t===-1?p-=s.clientRect[h]-r[x]:p+=r[h]-s.clientRect[x]}return p}_shouldEnterAsFirstChild(o,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,n=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let s=t[t.length-1].clientRect;return n?o>=s.right:e>=s.bottom}else{let s=t[0].clientRect;return n?o<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(o,e,t,n){let r=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:p,clientRect:h})=>{if(p===o)return!1;if(n){let x=r?n.x:n.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&x===this._previousSwap.delta)return!1}return r?e>=Math.floor(h.left)&&e<Math.floor(h.right):t>=Math.floor(h.top)&&t<Math.floor(h.bottom)});return s===-1||!this._sortPredicate(s,o)?-1:s}},Bt=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(o,e){this._document=o,this._dragDropRegistry=e}start(o){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let n=e[t];this._relatedNodes.push([n,n.nextSibling])}this.withItems(o)}sort(o,e,t,n){let r=this._getItemIndexFromPointerPosition(o,e,t),s=this._previousSwap;if(r===-1||this._activeItems[r]===o)return null;let p=this._activeItems[r];if(s.drag===p&&s.overlaps&&s.deltaX===n.x&&s.deltaY===n.y)return null;let h=this.getItemIndex(o),x=o.getPlaceholderElement(),v=p.getRootElement();r>h?v.after(x):v.before(x),mt(this._activeItems,h,r);let T=this._getRootNode().elementFromPoint(e,t);return s.deltaX=n.x,s.deltaY=n.y,s.drag=p,s.overlaps=v===T||v.contains(T),{previousIndex:h,currentIndex:r}}enter(o,e,t,n){let r=this._activeItems.indexOf(o);r>-1&&this._activeItems.splice(r,1);let s=n==null||n<0?this._getItemIndexFromPointerPosition(o,e,t):n;s===-1&&(s=this._getClosestItemIndexToPointer(o,e,t));let p=this._activeItems[s];p&&!this._dragDropRegistry.isDragging(p)?(this._activeItems.splice(s,0,o),p.getRootElement().before(o.getPlaceholderElement())):(this._activeItems.push(o),this._element.appendChild(o.getPlaceholderElement()))}withItems(o){this._activeItems=o.slice()}withSortPredicate(o){this._sortPredicate=o}reset(){let o=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[n,r]=this._relatedNodes[t];n.parentNode===o&&n.nextSibling!==r&&(r===null?o.appendChild(n):r.parentNode===o&&o.insertBefore(n,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(o){return this._activeItems.indexOf(o)}getItemAtIndex(o){return this._activeItems[o]||null}updateOnScroll(){this._activeItems.forEach(o=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()})}withElementContainer(o){o!==this._element&&(this._element=o,this._rootNode=void 0)}_getItemIndexFromPointerPosition(o,e,t){let n=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),r=n?this._activeItems.findIndex(s=>{let p=s.getRootElement();return n===p||p.contains(n)}):-1;return r===-1||!this._sortPredicate(r,o)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=st(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(o,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,r=-1;for(let s=0;s<this._activeItems.length;s++){let p=this._activeItems[s];if(p!==o){let{x:h,y:x}=p.getRootElement().getBoundingClientRect(),v=Math.hypot(e-h,t-x);v<n&&(n=v,r=s)}}return r}},gi=.05,yi=.05,ie=(function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i})(ie||{}),q=(function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i})(q||{});function xi(i,o){return new Vt(o,i.get(pt),i.get(Qe),i.get(De),i.get(Rt))}var Vt=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new B;entered=new B;exited=new B;dropped=new B;sorted=new B;receivingStarted=new B;receivingStopped=new B;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Pe.EMPTY;_verticalScrollDirection=ie.NONE;_horizontalScrollDirection=q.NONE;_scrollNode;_stopScrollTimers=new B;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(o,e,t,n,r){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=r;let s=this.element=ue(o);this._document=t,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new lt(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,e,t,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(o)),this._sortStrategy.enter(o,e,t,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,e,t,n,r,s,p,h={}){this._reset(),this.dropped.next({item:o,currentIndex:e,previousIndex:t,container:this,previousContainer:n,isPointerOverContainer:r,distance:s,dropPoint:p,event:h})}withItems(o){let e=this._draggables;return this._draggables=o,o.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(n=>n.isDragging()).every(n=>o.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._direction=o,this._sortStrategy instanceof dt&&(this._sortStrategy.direction=o),this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){if(o==="mixed")this._sortStrategy=new Bt(this._document,this._dragDropRegistry);else{let e=new dt(this._dragDropRegistry);e.direction=this._direction,e.orientation=o,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(o){let e=this._container;return this._scrollableElements=o.indexOf(e)===-1?[e,...o]:o.slice(),this}withElementContainer(o){if(o===this._container)return this;let e=ue(this.element),t=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(o);return t>-1&&this._scrollableElements.splice(t,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(o),this._cachedShadowRoot=null,this._scrollableElements.unshift(o),this._container=o,this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}getItemAtIndex(o){return this._isDragging?this._sortStrategy.getItemAtIndex(o):this._draggables[o]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,e,t,n){if(this.sortingDisabled||!this._domRect||!si(this._domRect,gi,e,t))return;let r=this._sortStrategy.sort(o,e,t,n);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,e){if(this.autoScrollDisabled)return;let t,n=ie.NONE,r=q.NONE;if(this._parentPositions.positions.forEach((s,p)=>{p===this._document||!s.clientRect||t||si(s.clientRect,gi,o,e)&&([n,r]=jo(p,s.clientRect,this._direction,o,e),(n||r)&&(t=p))}),!n&&!r){let{width:s,height:p}=this._viewportRuler.getViewportSize(),h={width:s,height:p,top:0,right:s,bottom:p,left:0};n=vi(h,e),r=Si(h,o),t=window}t&&(n!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=r,this._scrollNode=t,(n||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let o=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let o=this._container.style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),dn(0,ln).pipe(Ne(this._stopScrollTimers)).subscribe(()=>{let o=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===ie.UP?o.scrollBy(0,-e):this._verticalScrollDirection===ie.DOWN&&o.scrollBy(0,e),this._horizontalScrollDirection===q.LEFT?o.scrollBy(-e,0):this._horizontalScrollDirection===q.RIGHT&&o.scrollBy(e,0)})};_isOverContainer(o,e){return this._domRect!=null&&Nt(this._domRect,o,e)}_getSiblingContainerFromPosition(o,e,t){return this._siblings.find(n=>n._canReceive(o,e,t))}_canReceive(o,e,t){if(!this._domRect||!Nt(this._domRect,e,t)||!this.enterPredicate(o,this))return!1;let n=this._getShadowRoot().elementFromPoint(e,t);return n?n===this._container||this._container.contains(n):!1}_startReceiving(o,e){let t=this._activeSiblings;!t.has(o)&&e.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(t.add(o),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:o,receiver:this,items:e}))}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:o,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(o);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let o=st(this._container);this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let o=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,o))}};function vi(i,o){let{top:e,bottom:t,height:n}=i,r=n*yi;return o>=e-r&&o<=e+r?ie.UP:o>=t-r&&o<=t+r?ie.DOWN:ie.NONE}function Si(i,o){let{left:e,right:t,width:n}=i,r=n*yi;return o>=e-r&&o<=e+r?q.LEFT:o>=t-r&&o<=t+r?q.RIGHT:q.NONE}function jo(i,o,e,t,n){let r=vi(o,n),s=Si(o,t),p=ie.NONE,h=q.NONE;if(r){let x=i.scrollTop;r===ie.UP?x>0&&(p=ie.UP):i.scrollHeight-x>i.clientHeight&&(p=ie.DOWN)}if(s){let x=i.scrollLeft;e==="rtl"?s===q.RIGHT?x<0&&(h=q.RIGHT):i.scrollWidth+x>i.clientWidth&&(h=q.LEFT):s===q.LEFT?x>0&&(h=q.LEFT):i.scrollWidth-x>i.clientWidth&&(h=q.RIGHT)}return[p,h]}var Yo=(()=>{class i{_injector=b(Ze);constructor(){}createDrag(e,t){return Ci(this._injector,e,t)}createDropList(e){return xi(this._injector,e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Ae({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gt=new Ie("CDK_DRAG_PARENT");var Ei=new Ie("CdkDragHandle"),Di=(()=>{class i{element=b(pe);_parentDrag=b(Gt,{optional:!0,skipSelf:!0});_dragDropRegistry=b(pt);_stateChanges=new B;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let t=this._dragDropRegistry.getDragDirectiveForNode(e);if(t){this._parentDrag=t,t._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",K]},features:[Ve([{provide:Ei,useExisting:i}])]})}return i})(),Ti=new Ie("CDK_DRAG_CONFIG"),bi=new Ie("CdkDropList"),ut=(()=>{class i{element=b(pe);dropContainer=b(bi,{optional:!0,skipSelf:!0});_ngZone=b(De);_viewContainerRef=b(Cn);_dir=b(Ge,{optional:!0});_changeDetectorRef=b(Oe);_selfHandle=b(Ei,{optional:!0,self:!0});_parentDrag=b(Gt,{optional:!0,skipSelf:!0});_dragDropRegistry=b(pt);_destroyed=new B;_handles=new _e([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new g;released=new g;ended=new g;entered=new g;exited=new g;dropped=new g;moved=new yt(e=>{let t=this._dragRef.moved.pipe(cn(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=b(Ze);constructor(){let e=this.dropContainer,t=b(Ti,{optional:!0});this._dragRef=Ci(this._injector,this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(Ne(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){gn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),n=t.indexOf(e);n>-1&&(t.splice(n,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ue(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof n=="object"&&n?n:zt(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(mn(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let n=this._dragDropRegistry.getDragDirectiveForNode(t);if(n){e.withParent(n._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:n,constrainPosition:r,previewClass:s,boundaryElement:p,draggingDisabled:h,rootElementSelector:x,previewContainer:v}=e;this.disabled=h??!1,this.dragStartDelay=n||0,this.lockAxis=t||null,r&&(this.constrainPosition=r),s&&(this.previewClass=s),p&&(this.boundaryElement=p),x&&(this.rootElementSelector=x),v&&(this.previewContainer=v)}_setupHandlesListener(){this._handles.pipe(_n(e=>{let t=e.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),un(e=>qe(...e.map(t=>t._stateChanges.pipe(xt(t))))),Ne(this._destroyed)).subscribe(e=>{let t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,n){t&2&&X("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",K],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Pn]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ve([{provide:Gt,useExisting:i}]),Je]})}return i})(),$t=new Ie("CdkDropListGroup"),wi=(()=>{class i{_items=new Set;disabled=!1;ngOnDestroy(){this._items.clear()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",K]},exportAs:["cdkDropListGroup"],features:[Ve([{provide:$t,useExisting:i}])]})}return i})(),_t=(()=>{class i{element=b(pe);_changeDetectorRef=b(Oe);_scrollDispatcher=b(Nn);_dir=b(Ge,{optional:!0});_group=b($t,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new B;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=b(Fn).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new g;entered=new g;exited=new g;sorted=new g;_unsortedItems=new Set;constructor(){let e=b(Ti,{optional:!0}),t=b(Ze);this._dropListRef=xi(t,this.element),this._dropListRef.data=this,e&&this._assignDefaults(e),this._dropListRef.enterPredicate=(n,r)=>this.enterPredicate(n.data,r.data),this._dropListRef.sortPredicate=(n,r,s)=>this.sortPredicate(n,r.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let t=this._latestSortedRefs.indexOf(e._dragRef);t>-1&&(this._latestSortedRefs.splice(t,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(xt(this._dir.value),Ne(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=Mn(this.connectedTo).map(n=>{if(typeof n=="string"){let r=i._dropLists.find(s=>s.id===n);return r}return n});if(this._group&&this._group._items.forEach(n=>{t.indexOf(n)===-1&&t.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(n)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=zt(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(t.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),qe(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:s,listOrientation:p}=e;this.disabled=n??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=s??!1,this.orientation=p||"vertical",this.lockAxis=t||null}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,n){t&2&&(tt("id",n.id),X("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",K],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",K],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",K],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",K]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ve([{provide:$t,useValue:void 0},{provide:bi,useExisting:i}])]})}return i})();var Le=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=et({type:i});static \u0275inj=Xe({providers:[Yo],imports:[An]})}return i})();var Y=[];for(let i=0;i<256;++i)Y.push((i+256).toString(16).slice(1));function Pi(i,o=0){return(Y[i[o+0]]+Y[i[o+1]]+Y[i[o+2]]+Y[i[o+3]]+"-"+Y[i[o+4]]+Y[i[o+5]]+"-"+Y[i[o+6]]+Y[i[o+7]]+"-"+Y[i[o+8]]+Y[i[o+9]]+"-"+Y[i[o+10]]+Y[i[o+11]]+Y[i[o+12]]+Y[i[o+13]]+Y[i[o+14]]+Y[i[o+15]]).toLowerCase()}var Yt,Wo=new Uint8Array(16);function Wt(){if(!Yt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yt=crypto.getRandomValues.bind(crypto)}return Yt(Wo)}var Ko=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kt={randomUUID:Ko};function qo(i,o,e){i=i||{};let t=i.random??i.rng?.()??Wt();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,o){if(e=e||0,e<0||e+16>o.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let n=0;n<16;++n)o[e+n]=t[n];return o}return Pi(t)}function Xo(i,o,e){return Kt.randomUUID&&!o&&!i?Kt.randomUUID():qo(i,o,e)}var qt=Xo;var ce=(()=>{class i{constructor(){this.copyFromControls=ti.filter(e=>!e.disabled),this.copyFromLayouts=[...ni],this.rootElements=[],this._rootElements$=new _e([]),this.rootElements$=this._rootElements$.asObservable(),this._uiSchema$=new _e({elements:[],type:"VerticalLayout"}),this.uiSchema$=this._uiSchema$.asObservable(),this._formSchema$=new _e({type:"object",properties:{}}),this.formSchema$=this._formSchema$.asObservable(),this.history=[],this.historyIndex=-1,this.MAX_HISTORY_SIZE=50,this._canUndo$=new _e(!1),this.canUndo$=this._canUndo$.asObservable(),this._canRedo$=new _e(!1),this.canRedo$=this._canRedo$.asObservable(),this.saveHistory()}handleDropEvent(e,t){this.cleanupTemporaryItems();let{data:n}=e.item;try{if(e.previousContainer===e.container)return mt(e.container.data,e.previousIndex,e.currentIndex),this.saveHistory(),this.updateSchemas(),n;{let r=this.createInstance(n,t);return(t?this.findLayoutElements(t):this.rootElements).splice(e.currentIndex,0,r),this.saveHistory(),this.updateSchemas(),t&&this._rootElements$.next(JSON.parse(JSON.stringify(this.rootElements))),r}}catch(r){console.error("Error handling drop event:",r);return}}createInstance(e,t){let n=qt().replace(/-/g,"");return this.isControl(e)?this.createControlInstance(e,n,t):this.createLayoutInstance(e,n)}createControlInstance(e,t,n){let r=this.generateUniqueFieldName(e.name),s=`#/properties/${r}`;return F(z({},e),{key:t,name:r,temp:!1,editor:!1,uiSchema:F(z({},e.uiSchema),{scope:s})})}createLayoutInstance(e,t){return F(z({},e),{key:t,temp:!1,editor:!1,elements:[],uiSchema:F(z({},e.uiSchema),{elements:[]})})}generateUniqueFieldName(e){let t=1,n=e;for(;this.fieldNameExists(n);)n=`${e}${t}`,t++;return n}fieldNameExists(e){return this.getAllControls().some(t=>t.name===e)}getAllControls(){let e=[],t=n=>{n.forEach(r=>{this.isControl(r)?e.push(r):this.isLayout(r)&&t(r.elements)})};return t(this.rootElements),e}addItem(e,t){let n=this.createInstance(e,t);(t?this.findLayoutElements(t):this.rootElements).push(n),this.saveHistory(),this.updateSchemas()}removeItem(e,t){let n=t?this.findLayoutElements(t):this.rootElements,r=n.findIndex(s=>s.key===e);r!==-1&&(n.splice(r,1),this.saveHistory(),this.updateSchemas())}updateItem(e,t,n){let s=(n?this.findLayoutElements(n):this.rootElements).find(p=>p.key===e);s&&(Object.assign(s,t),this.isControl(s)&&"name"in t&&t.name&&t.name!==s.name&&(s.uiSchema.scope=`#/properties/${t.name}`),this.saveHistory(),this.updateSchemas())}findItem(e){let t=n=>{for(let r of n){if(r.key===e)return r;if(this.isLayout(r)){let s=t(r.elements);if(s)return s}}return null};return t(this.rootElements)}findLayoutElements(e){let t=this.findItem(e);return this.isLayout(t)?t.elements:[]}cleanupTemporaryItems(){this.copyFromControls=this.copyFromControls.filter(e=>!e.temp),this.copyFromLayouts=this.copyFromLayouts.filter(e=>!e.temp)}addTemporaryItem(e){if(this.isControl(e)){let t=this.copyFromControls.findIndex(n=>n===e);t!==-1&&this.copyFromControls.splice(t+1,0,F(z({},e),{temp:!0}))}else if(this.isLayout(e)){let t=this.copyFromLayouts.findIndex(n=>n===e);t!==-1&&this.copyFromLayouts.splice(t+1,0,F(z({},e),{temp:!0}))}}isControl(e){return e!==null&&"type"in e&&Object.values(V).includes(e.type)}isLayout(e){return e!==null&&"type"in e&&Object.values(ne).includes(e.type)}updateSchemas(){this._rootElements$.next(JSON.parse(JSON.stringify(this.rootElements))),this.toUiSchema(),this.toFormSchema()}toUiSchema(){let e=this.rootElements.map(t=>this.itemToUiSchemaElement(t));this._uiSchema$.next({type:"VerticalLayout",elements:e})}itemToUiSchemaElement(e){if(this.isControl(e))return e.uiSchema;if(this.isLayout(e)){let t=z({},e.uiSchema),n=e.elements.map(r=>this.itemToUiSchemaElement(r));return t.elements=n,t}throw new Error("Unknown item type")}toFormSchema(){let e={},t=(r,s="")=>{r.forEach(p=>{if(this.isControl(p)){let h=s?`${s}.${p.name}`:p.name;e[h]=p.formSchema}else this.isLayout(p)&&t(p.elements,s)})};t(this.rootElements);let n={};Object.keys(e).forEach(r=>{let s=r.split("."),p=s[0];s.length,n[p]=e[r]}),this._formSchema$.next({type:"object",properties:n})}undo(){this.canUndo()&&(this.historyIndex--,this.restoreState(this.history[this.historyIndex]),this.updateUndoRedoState())}redo(){this.canRedo()&&(this.historyIndex++,this.restoreState(this.history[this.historyIndex]),this.updateUndoRedoState())}canUndo(){return this.historyIndex>0}canRedo(){return this.historyIndex<this.history.length-1}saveHistory(){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1));let e={rootElements:JSON.parse(JSON.stringify(this.rootElements)),timestamp:Date.now()};this.history.push(e),this.history.length>this.MAX_HISTORY_SIZE?this.history.shift():this.historyIndex++,this.updateUndoRedoState()}restoreState(e){this.rootElements=JSON.parse(JSON.stringify(e.rootElements)),this.updateSchemas()}updateUndoRedoState(){this._canUndo$.next(this.canUndo()),this._canRedo$.next(this.canRedo())}get copyFromInputs(){return this.copyFromControls}get dropInputs(){return this.rootElements.filter(e=>this.isControl(e))}get fields$(){return this.rootElements$}updateControlData(e,t){t?this.updateItem(e,t):this.removeItem(e)}updateFormLabel(e,t){this.updateItem(e.key,{uiSchema:F(z({},e.uiSchema),{label:t})})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=Ae({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zo=["input"],Ii=(i,o,e)=>({item:i,index:o,isLast:e}),zi=i=>({$implicit:i});function Qo(i,o){}function Jo(i,o){if(i&1&&(l(0,"div",5),G(1,Qo,0,0,"ng-template",6),c()),i&2){let e=o.$implicit,t=o.$index,n=o.$count,r=a();me(r.itemContainerClass),X("disabled",e.disabled),m("cdkDragData",e)("cdkDragDisabled",e.disabled),d(),m("ngTemplateOutlet",r.itemRef||null)("ngTemplateOutletContext",ge(12,zi,Pt(8,Ii,e,t,t===n-1)))}}function er(i,o){}function tr(i,o){if(i&1&&(l(0,"div",7),G(1,er,0,0,"ng-template",6),c()),i&2){let e=o.$implicit,t=o.$index,n=o.$count,r=a();me(r.itemContainerClass),m("cdkDragData",e),d(),m("ngTemplateOutlet",r.itemRef||null)("ngTemplateOutletContext",ge(9,zi,Pt(5,Ii,e,t,t===n-1)))}}var Ri=(()=>{class i{constructor(e){this.service=e,this.listContainerClass="",this.itemContainerClass=""}addItem(e){this.service.addItem(e)}cleanupTemporaryItems(){this.service.cleanupTemporaryItems()}addTemporaryItem(e){this.service.addTemporaryItem(e.item.data)}_alwaysPreventDropPredicate(){return!1}static{this.\u0275fac=function(t){return new(t||i)(se(ce))}}static{this.\u0275cmp=f({type:i,selectors:[["dnd-list-input-source"]],contentQueries:function(t,n,r){if(t&1&&ot(r,Zo,5),t&2){let s;be(s=we())&&(n.itemRef=s.first)}},inputs:{listContainerClass:"listContainerClass",itemContainerClass:"itemContainerClass"},decls:13,vars:8,consts:[[1,"source-container"],[1,"section-header"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListExited","cdkDropListEntered","cdkDropListData","cdkDropListEnterPredicate"],["cdkDrag","",3,"class","disabled","cdkDragData","cdkDragDisabled"],["cdkDrag","",3,"class","cdkDragData"],["cdkDrag","",3,"cdkDragData","cdkDragDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkDrag","",3,"cdkDragData"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),_(3,"Controls"),c()(),l(4,"div",2),u("cdkDropListExited",function(s){return n.addTemporaryItem(s)})("cdkDropListEntered",function(){return n.cleanupTemporaryItems()}),oe(5,Jo,2,14,"div",3,Et),c(),l(7,"div",1)(8,"h3"),_(9,"Layouts"),c()(),l(10,"div",2),u("cdkDropListExited",function(s){return n.addTemporaryItem(s)})("cdkDropListEntered",function(){return n.cleanupTemporaryItems()}),oe(11,tr,2,11,"div",4,Et),c()()),t&2&&(d(4),me(n.listContainerClass),m("cdkDropListData",n.service.copyFromControls)("cdkDropListEnterPredicate",n._alwaysPreventDropPredicate),d(),re(n.service.copyFromControls),d(5),me(n.listContainerClass),m("cdkDropListData",n.service.copyFromLayouts)("cdkDropListEnterPredicate",n._alwaysPreventDropPredicate),d(),re(n.service.copyFromLayouts))},dependencies:[Le,_t,ut,rt],styles:["[_nghost-%COMP%]{display:block}.source-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.section-header[_ngcontent-%COMP%]{padding:0 0 5px;border-bottom:1px solid #f0f0f0}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#595959}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}"]})}}return i})();var nr=["item"],ir=["layout"],or=["placeholder"],rr=["dragHandle"],Oi=(i,o)=>({item:i,isHovered:o}),ht=i=>({$implicit:i}),sr=()=>[],ar=(i,o)=>o.key;function lr(i,o){if(i&1&&(l(0,"span",10),Te(1,5),c()),i&2){let e=a(3);d(),m("ngTemplateOutlet",e.dragHandleRef)}}function cr(i,o){}function dr(i,o){if(i&1){let e=D();l(0,"div",9),u("mouseenter",function(){C(e);let n=a().$index,r=a();return y(r._mouserOverItemIndex=n)})("mouseleave",function(){C(e);let n=a(2);return y(n._mouserOverItemIndex=-1)}),S(1,lr,2,1,"span",10),G(2,cr,0,0,"ng-template",11),c()}if(i&2){let e=a(),t=e.$implicit,n=e.$index,r=a();me(r.itemContainerClass),X("control-item",!0),m("cdkDragData",t),d(),E(r.dragHandleRef?1:-1),d(),m("ngTemplateOutlet",r.itemRef||null)("ngTemplateOutletContext",ge(11,ht,wt(8,Oi,t,r._mouserOverItemIndex===n)))}}function pr(i,o){if(i&1&&(l(0,"span",10),Te(1,5),c()),i&2){let e=a(3);d(),m("ngTemplateOutlet",e.dragHandleRef)}}function mr(i,o){}function ur(i,o){if(i&1&&Te(0,5),i&2){let e=a(4);m("ngTemplateOutlet",e.dragHandleRef)}}function _r(i,o){i&1&&G(0,ur,1,1,"ng-template",null,0,W)}function hr(i,o){if(i&1&&Te(0,11),i&2){let e=o.$implicit,t=a(4);m("ngTemplateOutlet",t.itemRef)("ngTemplateOutletContext",ge(2,ht,e))}}function gr(i,o){i&1&&G(0,hr,1,4,"ng-template",null,1,W)}function fr(i,o){if(i&1&&Te(0,11),i&2){let e=o.$implicit,t=a(4);m("ngTemplateOutlet",t.layoutRef)("ngTemplateOutletContext",ge(2,ht,e))}}function Cr(i,o){i&1&&G(0,fr,1,4,"ng-template",null,2,W)}function yr(i,o){if(i&1&&Te(0,5),i&2){let e=a(4);m("ngTemplateOutlet",e.placeholderRef)}}function xr(i,o){i&1&&G(0,yr,1,1,"ng-template",null,3,W)}function vr(i,o){if(i&1){let e=D();l(0,"div",8)(1,"div",9),u("mouseenter",function(){C(e);let n=a().$index,r=a();return y(r._mouserOverItemIndex=n)})("mouseleave",function(){C(e);let n=a(2);return y(n._mouserOverItemIndex=-1)}),S(2,pr,2,1,"span",10),l(3,"div",12),G(4,mr,0,0,"ng-template",11),c()(),l(5,"div",13)(6,"dnd-list-input-target",14),u("itemAdded",function(n){C(e);let r=a(2);return y(r.itemAdded.emit(n))}),S(7,_r,2,0),S(8,gr,2,0),S(9,Cr,2,0),S(10,xr,2,0),c()()()}if(i&2){let e=a(),t=e.$implicit,n=e.$index,r=a();d(),me(r.itemContainerClass),X("layout-item",!0),m("cdkDragData",t),d(),E(r.dragHandleRef?2:-1),d(2),m("ngTemplateOutlet",r.layoutRef||r.itemRef||null)("ngTemplateOutletContext",ge(20,ht,wt(17,Oi,t,r._mouserOverItemIndex===n))),d(2),m("items",r.service.findLayoutElements(t.key))("parentLayoutKey",t.key)("listContainerClass","nested-drop-zone")("itemContainerClass",r.itemContainerClass)("connectedDropLists",Dn(22,sr)),d(),E(r.dragHandleRef?7:-1),d(),E(r.itemRef?8:-1),d(),E(r.layoutRef?9:-1),d(),E(r.placeholderRef?10:-1)}}function Sr(i,o){if(i&1&&(S(0,dr,3,13,"div",7),S(1,vr,11,23,"div",8)),i&2){let e=o.$implicit,t=a();E(t.service.isControl(e)?0:-1),d(),E(t.service.isLayout(e)?1:-1)}}function Er(i,o){}function Dr(i,o){if(i&1&&G(0,Er,0,0,"ng-template",5),i&2){let e=a();m("ngTemplateOutlet",e.placeholderRef||null)}}function Tr(i,o){i&1&&(l(0,"div",6)(1,"p"),_(2,"Drop items into this layout"),c()())}var Mi=(()=>{class i{constructor(e){this.service=e,this.items=[],this.listContainerClass="",this.itemContainerClass="",this.connectedDropLists=[],this.itemAdded=new g,this._mouserOverItemIndex=-1,this._forcePreviewIconContainerHidden=!1,this.displayItems=[]}ngOnInit(){this.parentLayoutKey?this.updateDisplayItems():this.service.rootElements$.subscribe(e=>{this.displayItems=e})}ngOnChanges(e){e.items&&this.parentLayoutKey&&this.updateDisplayItems()}updateDisplayItems(){this.parentLayoutKey?this.displayItems=this.service.findLayoutElements(this.parentLayoutKey)||[]:this.displayItems=this.items||[]}drop(e){let t=this.service.handleDropEvent(e,this.parentLayoutKey);t&&(this.parentLayoutKey&&this.updateDisplayItems(),this.itemAdded.emit(t))}static{this.\u0275fac=function(t){return new(t||i)(se(ce))}}static{this.\u0275cmp=f({type:i,selectors:[["dnd-list-input-target"]],contentQueries:function(t,n,r){if(t&1&&ot(r,nr,5)(r,ir,5)(r,or,5)(r,rr,5),t&2){let s;be(s=we())&&(n.itemRef=s.first),be(s=we())&&(n.layoutRef=s.first),be(s=we())&&(n.placeholderRef=s.first),be(s=we())&&(n.dragHandleRef=s.first)}},inputs:{items:"items",parentLayoutKey:"parentLayoutKey",listContainerClass:"listContainerClass",itemContainerClass:"itemContainerClass",connectedDropLists:"connectedDropLists"},outputs:{itemAdded:"itemAdded"},features:[Je],decls:5,vars:11,consts:[["dragHandle",""],["item",""],["layout",""],["placeholder",""],["cdkDropList","",3,"cdkDropListEntered","cdkDropListExited","cdkDropListDropped","cdkDropListData"],[3,"ngTemplateOutlet"],[1,"nested-placeholder"],["cdkDrag","",3,"cdkDragData","class","control-item"],[1,"layout-wrapper"],["cdkDrag","",3,"mouseenter","mouseleave","cdkDragData"],["cdkDragHandle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"layout-header"],[1,"layout-content"],[3,"itemAdded","items","parentLayoutKey","listContainerClass","itemContainerClass","connectedDropLists"]],template:function(t,n){t&1&&(l(0,"div",4),u("cdkDropListEntered",function(){return n._forcePreviewIconContainerHidden=!0})("cdkDropListExited",function(){return n._forcePreviewIconContainerHidden=!1})("cdkDropListDropped",function(s){return n.drop(s)}),oe(1,Sr,2,2,null,null,ar),S(3,Dr,1,1,null,5),S(4,Tr,3,0,"div",6),c()),t&2&&(me(n.listContainerClass),X("hidden-placeholder",n.displayItems.length===0&&!n.parentLayoutKey)("list",n.displayItems.length>0)("layout-drop-zone",!!n.parentLayoutKey),m("cdkDropListData",n.displayItems),d(),re(n.displayItems),d(2),E(!n._forcePreviewIconContainerHidden&&n.displayItems.length<1&&!n.parentLayoutKey?3:-1),d(),E(n.parentLayoutKey&&n.displayItems.length<1?4:-1))},dependencies:[i,Le,_t,ut,Di,rt],styles:["[_nghost-%COMP%]{display:block}.layout-drop-zone[_ngcontent-%COMP%]{min-height:60px;border:2px dashed #d9d9d9;border-radius:4px;padding:8px;background-color:#fafafa;transition:all .2s}.layout-drop-zone.cdk-drop-list-dragging[_ngcontent-%COMP%]{border-color:#1890ff;background-color:#e6f7ff}.nested-drop-zone[_ngcontent-%COMP%]{margin-top:8px;padding:8px}.layout-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin:10px 0}.layout-header[_ngcontent-%COMP%]{flex:0 0 auto}.layout-content[_ngcontent-%COMP%]{flex:1 1 auto;min-height:60px}.layout-item[_ngcontent-%COMP%]{border-left:3px solid #1890ff;padding-left:8px}.control-item[_ngcontent-%COMP%]{border-left:3px solid #52c41a;padding-left:8px}.nested-placeholder[_ngcontent-%COMP%]{padding:16px;text-align:center;color:#8c8c8c;font-size:12px}.nested-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}}return i})();var Ni=["*"],br=["collapseHeader"],wr=["collapseIcon"];function Pr(i,o){if(i&1&&(nt(0),$(1,"nz-icon",9),it()),i&2){let e=o.$implicit,t=a(2);d(),m("nzType",e||"right")("nzRotate",t.active()?90:0)}}function Ir(i,o){if(i&1&&(l(0,"div",3,1),G(2,Pr,2,2,"ng-container",5),c()),i&2){let e=a();d(2),m("nzStringTemplateOutlet",e.nzExpandedIcon)}}function zr(i,o){if(i&1&&(nt(0),_(1),it()),i&2){let e=a();d(),he(e.nzHeader)}}function Rr(i,o){if(i&1&&(nt(0),_(1),it()),i&2){let e=a(2);d(),he(e.nzExtra)}}function Or(i,o){if(i&1&&(l(0,"div",6),G(1,Rr,2,1,"ng-container",5),c()),i&2){let e=a();d(),m("nzStringTemplateOutlet",e.nzExtra)}}var Li="collapse",Qt=(()=>{let i,o=[],e=[],t,n=[],r=[],s,p=[],h=[];return class Xt{static{let v=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[He()],t=[He()],s=[He()],ke(null,null,i,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:T=>"nzAccordion"in T,get:T=>T.nzAccordion,set:(T,P)=>{T.nzAccordion=P}},metadata:v},o,e),ke(null,null,t,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:T=>"nzBordered"in T,get:T=>T.nzBordered,set:(T,P)=>{T.nzBordered=P}},metadata:v},n,r),ke(null,null,s,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:T=>"nzGhost"in T,get:T=>T.nzGhost,set:(T,P)=>{T.nzGhost=P}},metadata:v},p,h),v&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}cdr=b(Oe);dir=b(Ge).valueSignal;_nzModuleName=Li;nzAccordion=de(this,o,!1);nzBordered=(de(this,e),de(this,n,!0));nzGhost=(de(this,r),de(this,p,!1));nzExpandIconPosition=(de(this,h),"start");nzSize="middle";listOfNzCollapsePanelComponent=[];constructor(){Ot(Li,()=>this.cdr.markForCheck())}addPanel(v){this.listOfNzCollapsePanelComponent.push(v)}removePanel(v){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(v),1)}click(v){let T=v.active();this.nzAccordion&&!T&&this.listOfNzCollapsePanelComponent.filter(P=>P!==v&&P.active()).forEach(P=>P.activate(!1)),v.activate(!T)}static \u0275fac=function(T){return new(T||Xt)};static \u0275cmp=f({type:Xt,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:14,hostBindings:function(T,P){T&2&&X("ant-collapse-icon-position-start",P.nzExpandIconPosition==="start")("ant-collapse-icon-position-end",P.nzExpandIconPosition==="end")("ant-collapse-ghost",P.nzGhost)("ant-collapse-borderless",!P.nzBordered)("ant-collapse-rtl",P.dir()==="rtl")("ant-collapse-small",P.nzSize==="small")("ant-collapse-large",P.nzSize==="large")},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",K],nzBordered:[2,"nzBordered","nzBordered",K],nzGhost:[2,"nzGhost","nzGhost",K],nzExpandIconPosition:"nzExpandIconPosition",nzSize:"nzSize"},exportAs:["nzCollapse"],ngContentSelectors:Ni,decls:1,vars:0,template:function(T,P){T&1&&(Dt(),Tt(0))},encapsulation:2,changeDetection:0})}})(),ki="collapsePanel",Jt=(()=>{let i,o=[],e=[];return class Zt{static{let n=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[He()],ke(null,null,i,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:r=>"nzShowArrow"in r,get:r=>r.nzShowArrow,set:(r,s)=>{r.nzShowArrow=s}},metadata:n},o,e),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}ngZone=b(De);cdr=b(Oe);destroyRef=b(hn);nzCollapseComponent=b(Qt,{host:!0});_nzModuleName=ki;nzActive=wn(!1,{transform:K});nzDisabled=!1;nzShowArrow=de(this,o,!0);nzExtra=de(this,e);nzHeader;nzExpandedIcon;nzCollapsible;nzActiveChange=bn();active=Tn(()=>this.nzActive());collapseHeader=It.required("collapseHeader",{read:pe});collapseIcon=It("collapseIcon",{read:pe});constructor(){Ot(ki,()=>this.cdr.markForCheck()),this.nzCollapseComponent.addPanel(this),this.destroyRef.onDestroy(()=>{this.nzCollapseComponent.removePanel(this)})}ngAfterViewInit(){let n=this.collapseIcon(),r=this.collapseHeader(),s=this.nzShowArrow&&this.nzCollapsible==="icon"&&n?n.nativeElement:r.nativeElement;Ln(s,"click").pipe(pn(()=>!this.nzDisabled&&this.nzCollapsible!=="disabled"),On(this.destroyRef)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this)})})}activate(n){this.active.set(n),this.nzActiveChange.emit(n)}static \u0275fac=function(r){return new(r||Zt)};static \u0275cmp=f({type:Zt,selectors:[["nz-collapse-panel"]],viewQuery:function(r,s){r&1&&yn(s.collapseHeader,br,5,pe)(s.collapseIcon,wr,5,pe),r&2&&xn(2)},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(r,s){r&2&&X("ant-collapse-no-arrow",!s.nzShowArrow)("ant-collapse-item-active",s.active())("ant-collapse-item-disabled",s.nzDisabled||s.nzCollapsible==="disabled")},inputs:{nzActive:[1,"nzActive"],nzDisabled:[2,"nzDisabled","nzDisabled",K],nzShowArrow:[2,"nzShowArrow","nzShowArrow",K],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon",nzCollapsible:"nzCollapsible"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:Ni,decls:9,vars:11,consts:[["collapseHeader",""],["collapseIcon",""],["role","button",1,"ant-collapse-header"],["role","button",1,"ant-collapse-expand-icon"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],["animation-collapse","","leavedClassName","ant-collapse-content-hidden",1,"ant-collapse-content",3,"open"],[1,"ant-collapse-content-box"],[1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(r,s){r&1&&(Dt(),l(0,"div",2,0),S(2,Ir,3,1,"div",3),l(3,"span",4),G(4,zr,2,1,"ng-container",5),c(),S(5,Or,2,1,"div",6),c(),l(6,"div",7)(7,"div",8),Tt(8),c()()),r&2&&(X("ant-collapse-icon-collapsible-only",s.nzCollapsible==="icon")("ant-collapse-header-collapsible-only",s.nzCollapsible==="header"),tt("aria-expanded",s.active()),d(2),E(s.nzShowArrow?2:-1),d(2),m("nzStringTemplateOutlet",s.nzHeader),d(),E(s.nzExtra?5:-1),d(),X("ant-collapse-content-active",s.active()),m("open",s.active()))},dependencies:[Gn,Vn,le,ae,Bn],encapsulation:2,changeDetection:0})}})(),Ai=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=et({type:i});static \u0275inj=Xe({imports:[Jt]})}return i})();function Lr(i,o){if(i&1){let e=D();l(0,"nz-input-group",1)(1,"nz-input-number",2),u("ngModelChange",function(n){C(e);let r=a();return y(r.updateOption("minRows",n))}),c()(),l(2,"nz-input-group",3)(3,"nz-input-number",2),u("ngModelChange",function(n){C(e);let r=a();return y(r.updateOption("maxRows",n))}),c()()}if(i&2){let e=a();d(),m("nzMin",0)("nzStep",1)("ngModel",(e.control.uiSchema.options==null?null:e.control.uiSchema.options.minRows)||0),d(2),m("nzMin",0)("nzStep",1)("ngModel",(e.control.uiSchema.options==null?null:e.control.uiSchema.options.maxRows)||0)}}var Fi=(()=>{class i{constructor(e){this.service=e,this.controlChange=new g}updateOption(e,t){w(this.control,`uiSchema.options.${e}`,t),this.controlChange.emit(this.control)}textarea(e){let t=e?{multi:!0,minRows:2,maxRows:4}:{};w(this.control,"uiSchema.options",t),this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)(se(ce))}}static{this.\u0275cmp=f({type:i,selectors:[["text-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:5,vars:2,consts:[["nz-checkbox","",3,"ngModelChange","ngModel"],["nzAddOnBefore","Min Rows"],[3,"ngModelChange","nzMin","nzStep","ngModel"],["nzAddOnBefore","Max Rows"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Additional options"),c(),l(2,"label",0),u("ngModelChange",function(s){return n.textarea(s)}),_(3,"As textarea"),c(),S(4,Lr,4,6)),t&2&&(d(2),m("ngModel",n.control.uiSchema.options==null?null:n.control.uiSchema.options.multi),d(2),E(n.control.uiSchema.options!=null&&n.control.uiSchema.options.multi?4:-1))},dependencies:[k,L,M,R,O,Se,ve,at,Yn],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Bi=(()=>{class i{constructor(e){this.service=e,this.controlChange=new g}updateOption(e,t){w(this.control,`uiSchema.options.${e}`,t),this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)(se(ce))}}static{this.\u0275cmp=f({type:i,selectors:[["textarea-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:6,vars:6,consts:[["nzAddOnBefore","Min Rows"],[3,"ngModelChange","nzMin","nzStep","ngModel"],["nzAddOnBefore","Max Rows"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Textarea Options"),c(),l(2,"nz-input-group",0)(3,"nz-input-number",1),u("ngModelChange",function(s){return n.updateOption("minRows",s)}),c()(),l(4,"nz-input-group",2)(5,"nz-input-number",1),u("ngModelChange",function(s){return n.updateOption("maxRows",s)}),c()()),t&2&&(d(3),m("nzMin",1)("nzStep",1)("ngModel",(n.control.uiSchema.options==null?null:n.control.uiSchema.options.minRows)||2),d(2),m("nzMin",0)("nzStep",1)("ngModel",(n.control.uiSchema.options==null?null:n.control.uiSchema.options.maxRows)||0))},dependencies:[k,L,M,R,O,Se,ve,at],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Vi=(()=>{class i{constructor(){this.controlChange=new g}updateSchema(e,t){if(t==null){let n=z({},this.control.formSchema);delete n[e],this.control.formSchema=n}else w(this.control,`formSchema.${e}`,t);this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["number-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:8,vars:9,consts:[["nzAddOnBefore","Minimum"],[3,"ngModelChange","nzMin","nzStep","ngModel"],["nzAddOnBefore","Maximum"],["nzAddOnBefore","Step"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Number Options"),c(),l(2,"nz-input-group",0)(3,"nz-input-number",1),u("ngModelChange",function(s){return n.updateSchema("minimum",s)}),c()(),l(4,"nz-input-group",2)(5,"nz-input-number",1),u("ngModelChange",function(s){return n.updateSchema("maximum",s)}),c()(),l(6,"nz-input-group",3)(7,"nz-input-number",1),u("ngModelChange",function(s){return n.updateSchema("multipleOf",s)}),c()()),t&2&&(d(3),m("nzMin",void 0)("nzStep",1)("ngModel",n.control.formSchema.minimum),d(2),m("nzMin",void 0)("nzStep",1)("ngModel",n.control.formSchema.maximum),d(2),m("nzMin",.01)("nzStep",.01)("ngModel",n.control.formSchema.multipleOf||1))},dependencies:[k,L,M,R,O,Se,ve],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Gi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["boolean-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Boolean Options"),A(),N(2,"p"),_(3,"No additional options available for boolean controls."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var $i=(()=>{class i{constructor(){this.controlChange=new g}updateFormat(e){w(this.control,"formSchema.format",e),this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["date-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:7,vars:1,consts:[["nzAddOnBefore","Format"],["nzPlaceHolder","Select format",3,"ngModelChange","ngModel"],["nzValue","date","nzLabel","Date"],["nzValue","date-time","nzLabel","Date Time"],["nzValue","time","nzLabel","Time"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Date Options"),c(),l(2,"nz-input-group",0)(3,"nz-select",1),u("ngModelChange",function(s){return n.updateFormat(s)}),$(4,"nz-option",2)(5,"nz-option",3)(6,"nz-option",4),c()()),t&2&&(d(3),m("ngModel",n.control.formSchema.format||"date"))},dependencies:[Qn,Xn,Zn,k,L,M,R,O],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Hi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["date-range-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Date Range Options"),A(),N(2,"p"),_(3,"Date range controls use start and end date properties."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();function kr(i,o){if(i&1){let e=D();l(0,"div",1)(1,"nz-input-group")(2,"input",4),u("ngModelChange",function(n){let r=C(e).$index,s=a();return y(s.updateOption(r,n))}),c(),l(3,"button",5),u("click",function(){let n=C(e).$index,r=a();return y(r.removeOption(n))}),$(4,"nz-icon",6),c()()()}if(i&2){let e=o.$implicit;d(2),m("ngModel",e)}}var Ee=(()=>{class i{constructor(){this.controlChange=new g}get options(){return this.control.formSchema.enum||[]}addOption(){let e=[...this.options,`Option ${this.options.length+1}`];w(this.control,"formSchema.enum",e),this.controlChange.emit(this.control)}updateOption(e,t){let n=[...this.options];n[e]=t,w(this.control,"formSchema.enum",n),this.controlChange.emit(this.control)}removeOption(e){let t=this.options.filter((n,r)=>r!==e);w(this.control,"formSchema.enum",t),this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["select-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:8,vars:0,consts:[[1,"options-list"],[1,"option-item"],["nz-button","","nzType","dashed",2,"width","100%","margin-top","8px",3,"click"],["nzType","plus","nzTheme","outline"],["nz-input","","placeholder","Option value",3,"ngModelChange","ngModel"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nzType","delete","nzTheme","outline"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Select Options"),c(),l(2,"div",0),oe(3,kr,5,1,"div",1,ze),l(5,"button",2),u("click",function(){return n.addOption()}),$(6,"nz-icon",3),_(7," Add Option "),c()()),t&2&&(d(3),re(n.options))},dependencies:[k,U,L,M,H,R,O,xe,ye,fe,Ce,le,ae],styles:["[_nghost-%COMP%]{display:block}.options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.option-item[_ngcontent-%COMP%]{display:flex;gap:8px}"],changeDetection:0})}}return i})();var Ui=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["radio-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:1,vars:1,consts:[[3,"controlChange","control"]],template:function(t,n){t&1&&(l(0,"select-renderer-editor",0),u("controlChange",function(s){return n.controlChange.emit(s)}),c()),t&2&&m("control",n.control)},dependencies:[Ee],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var ji=(()=>{class i{constructor(){this.controlChange=new g}updateSchema(e,t){if(t==null){let n=z({},this.control.formSchema);delete n[e],this.control.formSchema=n}else w(this.control,`formSchema.${e}`,t);this.controlChange.emit(this.control)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["range-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:8,vars:7,consts:[["nzAddOnBefore","Minimum"],[3,"ngModelChange","nzStep","ngModel"],["nzAddOnBefore","Maximum"],["nzAddOnBefore","Step"],[3,"ngModelChange","nzMin","nzStep","ngModel"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Range Options"),c(),l(2,"nz-input-group",0)(3,"nz-input-number",1),u("ngModelChange",function(s){return n.updateSchema("minimum",s)}),c()(),l(4,"nz-input-group",2)(5,"nz-input-number",1),u("ngModelChange",function(s){return n.updateSchema("maximum",s)}),c()(),l(6,"nz-input-group",3)(7,"nz-input-number",4),u("ngModelChange",function(s){return n.updateSchema("multipleOf",s)}),c()()),t&2&&(d(3),m("nzStep",1)("ngModel",n.control.formSchema.minimum),d(2),m("nzStep",1)("ngModel",n.control.formSchema.maximum),d(2),m("nzMin",.01)("nzStep",.01)("ngModel",n.control.formSchema.multipleOf||1))},dependencies:[Se,ve,M,R,O,k,L],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Yi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["toggle-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Toggle Options"),A(),N(2,"p"),_(3,"No additional options available for toggle controls."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Wi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["wysiwyg-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"WYSIWYG Options"),A(),N(2,"p"),_(3,"Rich text editor with full formatting capabilities."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Ki=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["checkbox-group-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:5,vars:1,consts:[[3,"controlChange","control"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Checkbox Group Options"),c(),l(2,"p"),_(3,"Configure the available options for the checkbox group:"),c(),l(4,"select-renderer-editor",0),u("controlChange",function(s){return n.controlChange.emit(s)}),c()),t&2&&(d(4),m("control",n.control))},dependencies:[Ee],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var qi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["multiselect-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:5,vars:1,consts:[[3,"controlChange","control"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Multiselect Options"),c(),l(2,"p"),_(3,"Configure the available options:"),c(),l(4,"select-renderer-editor",0),u("controlChange",function(s){return n.controlChange.emit(s)}),c()),t&2&&(d(4),m("control",n.control))},dependencies:[Ee],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Xi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["mention-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Mention Options"),A(),N(2,"p"),_(3,"Simplified editor for mention control. Full configuration available in future enhancement."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Zi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["image-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Image Upload Options"),A(),N(2,"p"),_(3,"Simplified editor for image control. Full configuration available in future enhancement."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Qi=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["google-places-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Google Places Options"),A(),N(2,"p"),_(3,"Simplified editor for Google Places control. Full configuration available in future enhancement."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var Ji=(()=>{class i{constructor(){this.controlChange=new g}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["country-iso-renderer-editor"]],inputs:{control:"control"},outputs:{controlChange:"controlChange"},decls:4,vars:0,template:function(t,n){t&1&&(N(0,"h3"),_(1,"Country ISO Options"),A(),N(2,"p"),_(3,"Simplified editor for Country ISO control. Full configuration available in future enhancement."),A())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var eo=(()=>{class i{constructor(){this.layoutChange=new g}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["vertical-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:4,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Layout description",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Vertical Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description))},dependencies:[k,U,L,M,H,R,O],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var to=(()=>{class i{constructor(){this.layoutChange=new g}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["horizontal-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:4,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Layout description",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Horizontal Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description))},dependencies:[k,U,L,M,H,R,O],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var no=(()=>{class i{constructor(){this.layoutChange=new g}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["group-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:4,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Group description",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Group Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description))},dependencies:[k,U,L,M,H,R,O],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();var io=(()=>{class i{constructor(){this.layoutChange=new g}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["card-group-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:4,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Card group description",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Card Group Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description))},dependencies:[k,U,L,M,H,R,O],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return i})();function Nr(i,o){if(i&1){let e=D();l(0,"div",3)(1,"nz-input-group")(2,"input",6),u("ngModelChange",function(n){let r=C(e).$index,s=a();return y(s.updateCategoryLabel(r,n))}),c(),l(3,"button",7),u("click",function(){let n=C(e).$index,r=a();return y(r.removeCategory(n))}),$(4,"nz-icon",8),c()()()}if(i&2){let e=o.$implicit;d(2),m("ngModel",e.label)}}var oo=(()=>{class i{constructor(){this.layoutChange=new g}get categories(){return this.layout.uiSchema.elements||[]}addCategory(){let e=[...this.categories,{type:"Category",label:`Category ${this.categories.length+1}`,elements:[]}];w(this.layout,"uiSchema.elements",e),this.layoutChange.emit(this.layout)}updateCategoryLabel(e,t){let n=[...this.categories];n[e]=F(z({},n[e]),{label:t}),w(this.layout,"uiSchema.elements",n),this.layoutChange.emit(this.layout)}removeCategory(e){let t=this.categories.filter((n,r)=>r!==e);w(this.layout,"uiSchema.elements",t),this.layoutChange.emit(this.layout)}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["categorization-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:12,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Categorization description",3,"ngModelChange","ngModel"],[1,"categories-section"],[1,"category-item"],["nz-button","","nzType","dashed",2,"width","100%","margin-top","8px",3,"click"],["nzType","plus","nzTheme","outline"],["nz-input","","placeholder","Category label",3,"ngModelChange","ngModel"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nzType","delete","nzTheme","outline"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Categorization Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()(),l(4,"div",2)(5,"h4"),_(6,"Categories"),c(),oe(7,Nr,5,1,"div",3,ze),l(9,"button",4),u("click",function(){return n.addCategory()}),$(10,"nz-icon",5),_(11," Add Category "),c()()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description),d(4),re(n.categories))},dependencies:[k,U,L,M,H,R,O,xe,ye,fe,Ce,le,ae],styles:["[_nghost-%COMP%]{display:block}.categories-section[_ngcontent-%COMP%]{margin-top:16px}.category-item[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}"],changeDetection:0})}}return i})();function Ar(i,o){if(i&1){let e=D();l(0,"div",5)(1,"nz-input-group")(2,"input",8),u("ngModelChange",function(n){let r=C(e).$index,s=a();return y(s.updateStepLabel(r,n))}),c(),l(3,"button",9),u("click",function(){let n=C(e).$index,r=a();return y(r.removeStep(n))}),$(4,"nz-icon",10),c()()()}if(i&2){let e=o.$implicit;d(2),m("ngModel",e.label)}}var ro=(()=>{class i{constructor(){this.layoutChange=new g}get steps(){return this.layout.uiSchema.elements||[]}addStep(){let e=[...this.steps,{type:"Category",label:`Step ${this.steps.length+1}`,elements:[]}];w(this.layout,"uiSchema.elements",e),this.layoutChange.emit(this.layout)}updateStepLabel(e,t){let n=[...this.steps];n[e]=F(z({},n[e]),{label:t}),w(this.layout,"uiSchema.elements",n),this.layoutChange.emit(this.layout)}removeStep(e){let t=this.steps.filter((n,r)=>r!==e);w(this.layout,"uiSchema.elements",t),this.layoutChange.emit(this.layout)}updateOption(e,t){let n=F(z({},this.layout.uiSchema.options||{}),{[e]:t});w(this.layout,"uiSchema.options",n),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["stepper-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:14,vars:2,consts:[["nzAddOnBefore","Next Label"],["nz-input","","placeholder","Next button label",3,"ngModelChange","ngModel"],["nzAddOnBefore","Previous Label"],["nz-input","","placeholder","Previous button label",3,"ngModelChange","ngModel"],[1,"steps-section"],[1,"step-item"],["nz-button","","nzType","dashed",2,"width","100%","margin-top","8px",3,"click"],["nzType","plus","nzTheme","outline"],["nz-input","","placeholder","Step label",3,"ngModelChange","ngModel"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nzType","delete","nzTheme","outline"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Stepper Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateOption("nextLabel",s)}),c()(),l(4,"nz-input-group",2)(5,"input",3),u("ngModelChange",function(s){return n.updateOption("previousLabel",s)}),c()(),l(6,"div",4)(7,"h4"),_(8,"Steps"),c(),oe(9,Ar,5,1,"div",5,ze),l(11,"button",6),u("click",function(){return n.addStep()}),$(12,"nz-icon",7),_(13," Add Step "),c()()),t&2&&(d(3),m("ngModel",(n.layout.uiSchema.options==null?null:n.layout.uiSchema.options.nextLabel)||"Next"),d(2),m("ngModel",(n.layout.uiSchema.options==null?null:n.layout.uiSchema.options.previousLabel)||"Previous"),d(4),re(n.steps))},dependencies:[k,U,L,M,H,R,O,xe,ye,fe,Ce,le,ae],styles:["[_nghost-%COMP%]{display:block}.steps-section[_ngcontent-%COMP%]{margin-top:16px}.step-item[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}"],changeDetection:0})}}return i})();var so=(()=>{class i{constructor(){this.layoutChange=new g}updateDescription(e){w(this.layout,"uiSchema.description",e||void 0),this.layoutChange.emit(this.layout)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["array-layout-editor"]],inputs:{layout:"layout"},outputs:{layoutChange:"layoutChange"},decls:6,vars:1,consts:[["nzAddOnBefore","Description"],["nz-input","","placeholder","Array layout description",3,"ngModelChange","ngModel"],[1,"info-text"]],template:function(t,n){t&1&&(l(0,"h3"),_(1,"Array Layout Options"),c(),l(2,"nz-input-group",0)(3,"input",1),u("ngModelChange",function(s){return n.updateDescription(s)}),c()(),l(4,"p",2),_(5,"Array layouts allow users to add multiple items. Configure the item template by adding controls to this layout."),c()),t&2&&(d(3),m("ngModel",n.layout.uiSchema.description))},dependencies:[k,U,L,M,H,R,O],styles:["[_nghost-%COMP%]{display:block}.info-text[_ngcontent-%COMP%]{margin-top:12px;font-size:12px;color:#8c8c8c}"],changeDetection:0})}}return i})();function Fr(i,o){if(i&1&&(_(0),ee(1,"titlecase")),i&2){let e=a(2).$implicit;Be(" ",te(1,1,e.item.type)," ")}}function Br(i,o){if(i&1&&_(0),i&2){let e=a(2).$implicit;Be(" ",e.item.label," ")}}function Vr(i,o){if(i&1&&(l(0,"span"),S(1,Fr,2,3)(2,Br,1,1),c()),i&2){let e=a().$implicit,t=a();d(),E(t.isControl(e.item)?1:t.isLayout(e.item)?2:-1)}}function Gr(i,o){if(i&1&&(l(0,"button",25),$(1,"nz-icon",26),G(2,Vr,3,1,"ng-template",null,5,W),c()),i&2){let e=o.$implicit,t=Re(3);m("nzTooltipTitle",t),d(),m("nzType",e.item.icon)}}function $r(i,o){i&1&&(l(0,"div",27),$(1,"nz-icon",28),c())}function Hr(i,o){if(i&1){let e=D();l(0,"text-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Ur(i,o){if(i&1){let e=D();l(0,"textarea-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function jr(i,o){if(i&1){let e=D();l(0,"number-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Yr(i,o){if(i&1){let e=D();l(0,"boolean-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Wr(i,o){if(i&1){let e=D();l(0,"date-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Kr(i,o){if(i&1){let e=D();l(0,"date-range-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function qr(i,o){if(i&1){let e=D();l(0,"select-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Xr(i,o){if(i&1){let e=D();l(0,"radio-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Zr(i,o){if(i&1){let e=D();l(0,"range-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Qr(i,o){if(i&1){let e=D();l(0,"toggle-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function Jr(i,o){if(i&1){let e=D();l(0,"wysiwyg-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function es(i,o){if(i&1){let e=D();l(0,"checkbox-group-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function ts(i,o){if(i&1){let e=D();l(0,"multiselect-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function ns(i,o){if(i&1){let e=D();l(0,"mention-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function is(i,o){if(i&1){let e=D();l(0,"image-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function os(i,o){if(i&1){let e=D();l(0,"google-places-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function rs(i,o){if(i&1){let e=D();l(0,"country-iso-renderer-editor",38),u("controlChange",function(n){C(e);let r=a(4);return y(r.updateControl(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("control",t.getControlFromTemp(e.item.key))}}function ss(i,o){if(i&1){let e=D();l(0,"nz-collapse",29)(1,"nz-collapse-panel",30),u("nzActiveChange",function(){C(e);let n=a(2).$implicit,r=a();return y(r.openEditor(n.item))}),l(2,"nz-input-group",31)(3,"input",32),u("ngModelChange",function(n){C(e);let r=a(2).$implicit,s=a();return y(s.updateUiSchema(r.item,"scope",n))}),c()(),l(4,"nz-input-group",33)(5,"input",34),u("ngModelChange",function(n){C(e);let r=a(2).$implicit,s=a();return y(s.updateControlName(r.item,n))}),c()(),l(6,"nz-input-group",35)(7,"input",34),u("ngModelChange",function(n){C(e);let r=a(2).$implicit,s=a();return y(s.updateUiSchema(r.item,"label",n))}),c()(),l(8,"nz-input-group",36)(9,"input",34),u("ngModelChange",function(n){C(e);let r=a(2).$implicit,s=a();return y(s.updateUiSchema(r.item,"placeholder",n))}),c()(),S(10,Hr,1,1,"text-renderer-editor",37),S(11,Ur,1,1,"textarea-renderer-editor",37),S(12,jr,1,1,"number-renderer-editor",37),S(13,Yr,1,1,"boolean-renderer-editor",37),S(14,Wr,1,1,"date-renderer-editor",37),S(15,Kr,1,1,"date-range-renderer-editor",37),S(16,qr,1,1,"select-renderer-editor",37),S(17,Xr,1,1,"radio-renderer-editor",37),S(18,Zr,1,1,"range-renderer-editor",37),S(19,Qr,1,1,"toggle-renderer-editor",37),S(20,Jr,1,1,"wysiwyg-renderer-editor",37),S(21,es,1,1,"checkbox-group-renderer-editor",37),S(22,ts,1,1,"multiselect-renderer-editor",37),S(23,ns,1,1,"mention-renderer-editor",37),S(24,is,1,1,"image-renderer-editor",37),S(25,os,1,1,"google-places-renderer-editor",37),S(26,rs,1,1,"country-iso-renderer-editor",37),c()()}if(i&2){let e=o;a();let t=Re(2),n=Re(4),r=a().$implicit,s=a();d(),m("nzActive",r.item.editor)("nzExtra",n)("nzHeader",t),d(2),m("disabled",!0)("ngModel",e.scope),d(2),m("ngModel",r.item.name),d(2),m("ngModel",e.label),d(2),m("ngModel",e.placeholder),d(),E(r.item.type===s.TYPES.TEXT&&s.getControlFromTemp(r.item.key)?10:-1),d(),E(r.item.type===s.TYPES.TEXTAREA&&s.getControlFromTemp(r.item.key)?11:-1),d(),E(r.item.type===s.TYPES.NUMBER&&s.getControlFromTemp(r.item.key)?12:-1),d(),E(r.item.type===s.TYPES.BOOLEAN&&s.getControlFromTemp(r.item.key)?13:-1),d(),E(r.item.type===s.TYPES.DATE_PICKER&&s.getControlFromTemp(r.item.key)?14:-1),d(),E(r.item.type===s.TYPES.DATE_RANGE&&s.getControlFromTemp(r.item.key)?15:-1),d(),E(r.item.type===s.TYPES.SELECT&&s.getControlFromTemp(r.item.key)?16:-1),d(),E(r.item.type===s.TYPES.RADIO&&s.getControlFromTemp(r.item.key)?17:-1),d(),E(r.item.type===s.TYPES.RANGE&&s.getControlFromTemp(r.item.key)?18:-1),d(),E(r.item.type===s.TYPES.TOGGLE&&s.getControlFromTemp(r.item.key)?19:-1),d(),E(r.item.type===s.TYPES.WYSIWYG&&s.getControlFromTemp(r.item.key)?20:-1),d(),E(r.item.type===s.TYPES.CHECKBOX_GROUP&&s.getControlFromTemp(r.item.key)?21:-1),d(),E(r.item.type===s.TYPES.MULTISELECT&&s.getControlFromTemp(r.item.key)?22:-1),d(),E(r.item.type===s.TYPES.MENTION&&s.getControlFromTemp(r.item.key)?23:-1),d(),E(r.item.type===s.TYPES.IMAGE&&s.getControlFromTemp(r.item.key)?24:-1),d(),E(r.item.type===s.TYPES.GOOGLE_PLACES&&s.getControlFromTemp(r.item.key)?25:-1),d(),E(r.item.type===s.TYPES.COUNTRY_ISO&&s.getControlFromTemp(r.item.key)?26:-1)}}function as(i,o){if(i&1&&($(0,"nz-icon",39),l(1,"span"),_(2),c()),i&2){let e=a(2).$implicit;m("nzType",e.item.icon),d(2),bt("[",e.item.name,"] - ",e.item.uiSchema.label)}}function ls(i,o){if(i&1){let e=D();l(0,"nz-icon",40),u("click",function(){C(e);let n=a(2).$implicit,r=a();return y(r.removeField(n.item.key))}),c(),l(1,"nz-icon",41),u("click",function(){C(e);let n=a(2).$implicit,r=a();return y(r.saveChanges(n.item.key))}),c()}}function cs(i,o){if(i&1&&(S(0,ss,27,25,"nz-collapse",29),G(1,as,3,3,"ng-template",null,5,W)(3,ls,2,0,"ng-template",null,6,W)),i&2){let e,t=a().$implicit;E((e=t.item.uiSchema)?0:-1,e)}}function ds(i,o){if(i&1&&S(0,cs,5,1),i&2){let e=o.$implicit,t=a();E(t.isControl(e.item)?0:-1)}}function ps(i,o){if(i&1){let e=D();l(0,"vertical-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function ms(i,o){if(i&1){let e=D();l(0,"horizontal-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function us(i,o){if(i&1){let e=D();l(0,"group-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function _s(i,o){if(i&1){let e=D();l(0,"card-group-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function hs(i,o){if(i&1){let e=D();l(0,"categorization-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function gs(i,o){if(i&1){let e=D();l(0,"stepper-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function fs(i,o){if(i&1){let e=D();l(0,"array-layout-editor",45),u("layoutChange",function(n){C(e);let r=a(4);return y(r.updateLayout(n))}),c()}if(i&2){let e=a(3).$implicit,t=a();m("layout",t.getLayoutFromTemp(e.item.key))}}function Cs(i,o){if(i&1){let e=D();l(0,"nz-collapse",42)(1,"nz-collapse-panel",30),u("nzActiveChange",function(){C(e);let n=a(2).$implicit,r=a();return y(r.openEditor(n.item))}),l(2,"nz-input-group",35)(3,"input",34),u("ngModelChange",function(n){C(e);let r=a(2).$implicit,s=a();return y(s.updateLayoutLabel(r.item,n))}),c()(),l(4,"div",43)(5,"p")(6,"strong"),_(7,"Type:"),c(),_(8),c(),l(9,"p")(10,"strong"),_(11,"Elements:"),c(),_(12),c()(),S(13,ps,1,1,"vertical-layout-editor",44),S(14,ms,1,1,"horizontal-layout-editor",44),S(15,us,1,1,"group-layout-editor",44),S(16,_s,1,1,"card-group-layout-editor",44),S(17,hs,1,1,"categorization-layout-editor",44),S(18,gs,1,1,"stepper-layout-editor",44),S(19,fs,1,1,"array-layout-editor",44),c()()}if(i&2){a();let e=Re(2),t=Re(4),n=a().$implicit,r=a();d(),m("nzActive",n.item.editor)("nzExtra",t)("nzHeader",e),d(2),m("ngModel",n.item.label||o.label),d(5),Be(" ",n.item.type),d(4),Be(" ",n.item.elements.length),d(),E(n.item.type===r.LAYOUT_TYPES.VERTICAL_LAYOUT&&r.getLayoutFromTemp(n.item.key)?13:-1),d(),E(n.item.type===r.LAYOUT_TYPES.HORIZONTAL_LAYOUT&&r.getLayoutFromTemp(n.item.key)?14:-1),d(),E(n.item.type===r.LAYOUT_TYPES.GROUP&&r.getLayoutFromTemp(n.item.key)?15:-1),d(),E(n.item.type===r.LAYOUT_TYPES.CARD_GROUP&&r.getLayoutFromTemp(n.item.key)?16:-1),d(),E(n.item.type===r.LAYOUT_TYPES.CATEGORIZATION&&r.getLayoutFromTemp(n.item.key)?17:-1),d(),E(n.item.type===r.LAYOUT_TYPES.STEPPER&&r.getLayoutFromTemp(n.item.key)?18:-1),d(),E(n.item.type===r.LAYOUT_TYPES.ARRAY_LAYOUT&&r.getLayoutFromTemp(n.item.key)?19:-1)}}function ys(i,o){if(i&1&&($(0,"nz-icon",39),l(1,"span"),_(2),c()),i&2){let e=a(2).$implicit;m("nzType",e.item.icon),d(2),bt("",e.item.label," (",e.item.elements.length," items)")}}function xs(i,o){if(i&1){let e=D();l(0,"nz-icon",40),u("click",function(){C(e);let n=a(2).$implicit,r=a();return y(r.removeField(n.item.key))}),c(),l(1,"nz-icon",41),u("click",function(){C(e);let n=a(2).$implicit,r=a();return y(r.saveChanges(n.item.key))}),c()}}function vs(i,o){if(i&1&&(S(0,Cs,20,13,"nz-collapse",42),G(1,ys,3,3,"ng-template",null,7,W)(3,xs,2,0,"ng-template",null,8,W)),i&2){let e,t=a().$implicit;E((e=t.item.uiSchema)?0:-1,e)}}function Ss(i,o){if(i&1&&S(0,vs,5,1),i&2){let e=o.$implicit,t=a();E(t.isLayout(e.item)?0:-1)}}function Es(i,o){i&1&&(l(0,"p",46),_(1,"Drop Items Here"),c())}var am=(()=>{class i{constructor(e){this.service=e,this.TYPES=V,this.LAYOUT_TYPES=ne,this.renderers=ei,this.itemsTemp={},this.formData={}}isControl(e){return this.service.isControl(e)}isLayout(e){return this.service.isLayout(e)}getItemLabel(e){return this.isControl(e)?e.uiSchema.label||e.name:this.isLayout(e)?e.label||e.uiSchema.label||e.type:""}getItemIcon(e){return e.icon}updateUiSchema(e,t,n){let r=this.getItemFromTemp(e);this.isControl(r)?this.itemsTemp[r.key]=F(z({},r),{uiSchema:F(z({},r.uiSchema),{[t]:n})}):this.isLayout(r)&&(this.itemsTemp[r.key]=F(z({},r),{uiSchema:F(z({},r.uiSchema),{[t]:n})}))}openEditor(e){let t=this.getItemFromTemp(e);this.itemsTemp[t.key]=F(z({},t),{editor:!0})}updateControl(e){this.itemsTemp[e.key]=e}updateLayout(e){this.itemsTemp[e.key]=e}updateControlName(e,t){let n=this.getItemFromTemp(e);this.itemsTemp[n.key]=F(z({},n),{name:t,uiSchema:F(z({},n.uiSchema),{scope:"#/properties/"+t})})}updateLayoutLabel(e,t){let n=this.getItemFromTemp(e);this.itemsTemp[n.key]=F(z({},n),{label:t,uiSchema:F(z({},n.uiSchema),{label:t})})}saveChanges(e){this.itemsTemp[e]&&(this.itemsTemp[e].editor=!1,this.isControl(this.itemsTemp[e])?this.service.updateItem(e,this.itemsTemp[e]):this.isLayout(this.itemsTemp[e])&&this.service.updateItem(e,this.itemsTemp[e]))}removeField(e){delete this.itemsTemp[e],this.service.removeItem(e)}undo(){this.service.undo()}redo(){this.service.redo()}getItemFromTemp(e){return this.itemsTemp[e.key]||e}getControlFromTemp(e){let t=this.itemsTemp[e];return t&&this.isControl(t)?t:null}getLayoutFromTemp(e){let t=this.itemsTemp[e];return t&&this.isLayout(t)?t:null}static{this.\u0275fac=function(t){return new(t||i)(se(ce))}}static{this.\u0275cmp=f({type:i,selectors:[["app-builder-page"]],decls:48,vars:30,consts:[["input",""],["dragHandle",""],["item",""],["layout",""],["placeholder",""],["titleTpl",""],["extraTpl",""],["layoutTitleTpl",""],["layoutExtraTpl",""],["cdkDropListGroup",""],[1,"builder-toolbar"],[1,"toolbar-actions"],["nz-button","","nzType","default","title","Undo (Ctrl+Z)",3,"click","disabled"],["nzType","undo","nzTheme","outline"],["nz-button","","nzType","default","title","Redo (Ctrl+Y)",3,"click","disabled"],["nzType","redo","nzTheme","outline"],[1,"builder-content"],["itemContainerClass","dnd-item","listContainerClass","dnd-container",1,"dnd-source"],["itemContainerClass","dnd-item","listContainerClass","dnd-container",1,"dnd-placeholder"],["nzTitle","Preview"],[3,"dataChange","data","renderers","schema","uischema"],["nzTitle","JsonUiSchema"],["nzTitle","FormSchema"],["nzTitle","Form Data"],["nzTitle","Fields"],["nz-button","","nzType","default","nz-tooltip","","nzSize","large",3,"nzTooltipTitle"],["nzTheme","outline",3,"nzType"],[1,"drag-icon"],["nzTheme","outline","nzType","drag"],[1,"item-data"],[3,"nzActiveChange","nzActive","nzExtra","nzHeader"],["nzAddOnBefore","Scope"],["nz-input","","type","text",3,"ngModelChange","disabled","ngModel"],["nzAddOnBefore","Field Name"],["nz-input","","type","text",3,"ngModelChange","ngModel"],["nzAddOnBefore","Label"],["nzAddOnBefore","Placeholder"],[3,"control"],[3,"controlChange","control"],["nzTheme","outline",1,"type-icon",3,"nzType"],["nzTheme","outline","nzType","delete",1,"remove-icon",3,"click"],["nzTheme","twotone","nzType","save",1,"save-icon",3,"click"],[1,"item-data","layout-item"],[1,"layout-info"],[3,"layout"],[3,"layoutChange","layout"],[1,"placeholder"]],template:function(t,n){if(t&1){let r=D();l(0,"main",9)(1,"div",10)(2,"div",11)(3,"button",12),ee(4,"async"),u("click",function(){return C(r),y(n.undo())}),$(5,"nz-icon",13),_(6," Undo "),c(),l(7,"button",14),ee(8,"async"),u("click",function(){return C(r),y(n.redo())}),$(9,"nz-icon",15),_(10," Redo "),c()()(),l(11,"div",16)(12,"dnd-list-input-source",17),G(13,Gr,4,2,"ng-template",null,0,W),c(),l(15,"dnd-list-input-target",18),G(16,$r,2,0,"ng-template",null,1,W)(18,ds,1,1,"ng-template",null,2,W)(20,Ss,1,1,"ng-template",null,3,W)(22,Es,2,0,"ng-template",null,4,W),c()()(),l(24,"aside")(25,"nz-tabs")(26,"nz-tab",19)(27,"jsonforms",20),ee(28,"async"),ee(29,"async"),En("dataChange",function(p){return C(r),Sn(n.formData,p)||(n.formData=p),y(p)}),c()(),l(30,"nz-tab",21)(31,"pre"),_(32),ee(33,"async"),ee(34,"json"),c()(),l(35,"nz-tab",22)(36,"pre"),_(37),ee(38,"async"),ee(39,"json"),c()(),l(40,"nz-tab",23)(41,"pre"),_(42),ee(43,"json"),c()(),l(44,"nz-tab",24)(45,"pre"),_(46),ee(47,"json"),c()()()()}t&2&&(d(3),m("disabled",!te(4,10,n.service.canUndo$)),d(4),m("disabled",!te(8,12,n.service.canRedo$)),d(20),vn("data",n.formData),m("renderers",n.renderers)("schema",te(28,14,n.service.formSchema$))("uischema",te(29,16,n.service.uiSchema$)),d(5),he(te(34,20,te(33,18,n.service.uiSchema$))),d(5),he(te(39,24,te(38,22,n.service.formSchema$))),d(5),he(te(43,26,n.formData)),d(4),he(te(47,28,n.itemsTemp)))},dependencies:[Le,wi,Ri,xe,ye,fe,Ce,le,ae,Mi,Ai,Jt,Qt,M,H,R,O,k,U,L,qn,Kn,Wn,Jn,$n,Hn,Fi,Bi,Vi,Gi,$i,Hi,Ee,Ui,ji,Yi,Wi,Ki,qi,Xi,Zi,Qi,Ji,eo,to,no,io,oo,ro,so,zn,In,Rn],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:50% 50%;min-height:100%}main[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column}.builder-toolbar[_ngcontent-%COMP%]{padding:8px 16px;border-bottom:1px solid #f0f0f0;margin-bottom:16px;display:flex;justify-content:flex-end}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.builder-content[_ngcontent-%COMP%]{display:flex;flex:1;gap:16px}aside[_ngcontent-%COMP%]{border-left:1px solid #ccc;padding:0 16px}.dnd-source[_ngcontent-%COMP%]     .cdk-drop-list{display:grid;grid-template-columns:repeat(3,1fr);gap:5px}.dnd-source[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:grabbing;margin:0 0 5px}dnd-list-input-target[_ngcontent-%COMP%]{flex:1;padding-left:20px}dnd-list-input-target[_ngcontent-%COMP%]     .placeholder, dnd-list-input-target[_ngcontent-%COMP%]     .cdk-drag-placeholder{border:4px dashed #1890ff;padding:10px}dnd-list-input-target[_ngcontent-%COMP%]     .placeholder{width:100%;height:400px}dnd-list-input-target[_ngcontent-%COMP%]     .drag-icon{font-size:20px;margin-right:15px;cursor:move}dnd-list-input-target[_ngcontent-%COMP%]     .dnd-item{box-shadow:0 0 #0000,0 0 #0000,0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;border-radius:5px;padding:10px;display:flex;margin:10px 0;align-items:center}dnd-list-input-target[_ngcontent-%COMP%]     .type-icon{font-size:16px}dnd-list-input-target[_ngcontent-%COMP%]     .ant-input-group-addon:first-child{width:30%;text-align:left}dnd-list-input-target[_ngcontent-%COMP%]     .ant-input-group-addon:first-child+*{width:100%}dnd-list-input-target[_ngcontent-%COMP%]     h3{margin:15px 0 5px}.type-icon[_ngcontent-%COMP%]{margin-right:20px;position:relative;top:3px}.save-icon[_ngcontent-%COMP%]{color:#1890ff;cursor:pointer;font-size:20px}.remove-icon[_ngcontent-%COMP%]{color:var(--ant-error-color);cursor:pointer;margin-right:5px;font-size:20px}.layout-item[_ngcontent-%COMP%]{border-left:3px solid #1890ff;background-color:#f0f7ff}.layout-info[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background-color:#fafafa;border-radius:4px}.layout-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:12px}"]})}}return i})();export{am as BuilderPageComponent};
